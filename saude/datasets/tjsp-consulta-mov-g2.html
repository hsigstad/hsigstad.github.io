<!DOCTYPE html>
<html lang="en">
<head>
<meta name="robots" content="noindex, nofollow">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>TJSP Consulta Movements (Grau 2)</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
<style>
  :root {
    --bg: #f8f9fa; --card: #fff; --fg: #1a1a1a; --muted: #666;
    --border: #dee2e6; --accent: #0d6efd; --accent2: #198754;
    --accent3: #dc3545; --accent4: #fd7e14;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background: var(--bg); color: var(--fg); line-height: 1.5;
  }

  .stats-bar {
    display: flex; gap: .8rem; padding: 1rem 2rem; flex-wrap: wrap;
  }
  .stat-card {
    background: var(--card); border: 1px solid var(--border);
    border-radius: 8px; padding: .75rem 1rem; flex: 1; min-width: 120px;
    text-align: center;
  }
  .stat-card .value { font-size: 1.5rem; font-weight: 700; color: var(--accent); }
  .stat-card .label { font-size: .72rem; color: var(--muted); text-transform: uppercase; letter-spacing: .04em; }

  main { padding: 0 2rem 3rem; max-width: 1400px; margin: 0 auto; }

  h2.section-title {
    font-size: 1.15rem; margin: 1.6rem 0 .8rem; padding-bottom: .3rem;
    border-bottom: 2px solid var(--border);
  }

  .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.2rem; }
  @media (max-width: 900px) { .grid { grid-template-columns: 1fr; } }

  .card {
    background: var(--card); border: 1px solid var(--border);
    border-radius: 8px; padding: 1.2rem 1.4rem;
  }
  .card h3 { font-size: .95rem; margin-bottom: .8rem; color: var(--fg); }
  .card.full { grid-column: 1 / -1; }

  .chart-wrap { position: relative; width: 100%; }
  .chart-wrap.bar { height: 300px; }
  .chart-wrap.hbar { height: 380px; }

  /* column info table */
  .col-table { width: 100%; border-collapse: collapse; font-size: .82rem; }
  .col-table th, .col-table td {
    padding: .35rem .6rem; border-bottom: 1px solid var(--border); text-align: left;
  }
  .col-table th { background: #f0f4f8; font-weight: 600; position: sticky; top: 0; }
  .col-table .null-bar { display: inline-block; height: 10px; border-radius: 2px; background: #dc3545; }

  /* data table */
  .table-wrap { overflow-x: auto; max-height: 520px; overflow-y: auto; }
  .data-table { width: 100%; border-collapse: collapse; font-size: .8rem; }
  .data-table th, .data-table td {
    padding: .4rem .5rem; border-bottom: 1px solid var(--border);
    text-align: left; white-space: nowrap; max-width: 250px; overflow: hidden; text-overflow: ellipsis;
  }
  .data-table th { position: sticky; top: 0; background: #f0f4f8; font-weight: 600; }
  .data-table tbody tr:hover { background: #f0f4ff; }

  .search-bar { margin-bottom: .8rem; }
  .search-bar input {
    font-size: .85rem; padding: .4rem .7rem; border: 1px solid var(--border);
    border-radius: 4px; width: 100%; max-width: 400px;
  }
  .count-label { font-size: .8rem; color: var(--muted); margin-left: .8rem; }

  footer {
    text-align: center; padding: 1.5rem; font-size: .8rem; color: var(--muted);
    border-top: 1px solid var(--border); margin-top: 2rem;
  }
</style>
</head>
<body>

<style>
  .site-nav {
    position: sticky; top: 0; z-index: 100;
    background: #212529; display: flex; align-items: center;
    padding: 0 2rem; height: 3rem;
  }
  .site-nav .nav-brand {
    color: #fff; text-decoration: none; font-weight: 600; font-size: 1rem;
    margin-right: auto;
  }
  .site-nav .nav-brand:hover { color: #e9ecef; }
  .site-nav .nav-link {
    color: #adb5bd; text-decoration: none; font-size: .85rem;
    padding: 0 .75rem; height: 3rem; display: flex; align-items: center;
    background: none; border: none; cursor: pointer; font-family: inherit;
  }
  .site-nav .nav-link:hover, .site-nav .nav-link.active { color: #fff; }
  .nav-dropdown { position: relative; }
  .dropdown-menu {
    display: none; position: absolute; top: 3rem; right: 0;
    background: #fff; border: 1px solid var(--border); border-radius: 6px;
    box-shadow: 0 4px 16px rgba(0,0,0,.12); min-width: 220px;
    padding: .4rem 0; z-index: 200; max-height: 80vh; overflow-y: auto;
  }
  .nav-dropdown.open .dropdown-menu { display: block; }
  .dropdown-menu a {
    display: block; padding: .3rem 1rem; color: #1a1a1a;
    text-decoration: none; font-size: .82rem;
  }
  .dropdown-menu a:hover { background: #f0f4f8; }
  .dropdown-group-label {
    padding: .4rem 1rem .15rem; font-size: .68rem; font-weight: 700;
    color: #888; text-transform: uppercase; letter-spacing: .04em;
  }
  .dropdown-divider { border-top: 1px solid #eee; margin: .3rem 0; }
  .page-header {
    padding: .8rem 2rem; border-bottom: 1px solid var(--border); background: #fff;
  }
  .page-header h1 { font-size: 1.3rem; font-weight: 600; }
  .page-header p { color: var(--muted); font-size: .85rem; margin-top: .15rem; }
</style>

<nav class="site-nav">
  <a href="../index.html" class="nav-brand">Judicialização da Saúde</a>
  <a href="../paper/index.html" class="nav-link">Paper</a>
  <div class="nav-dropdown">
    <button class="nav-link">Docs &#9662;</button>
    <div class="dropdown-menu">
    <div class="dropdown-group-label">Research reference</div>
    <a href="../docs/README.html">Project Overview</a>
    <a href="../docs/summary.html">Research Summary</a>
    <a href="../docs/institutions.html">Institutional Background</a>
    <a href="../docs/data.html">Data Sources</a>
    <a href="../docs/methods.html">Empirical Methods</a>
    <a href="../docs/literature.html">Literature</a>
    <a href="../docs/theory.html">Theoretical Framework</a>
    <a href="../docs/hypotheses.html">Hypotheses & Evidence</a>
    <div class="dropdown-divider"></div>
    <div class="dropdown-group-label">Working notes</div>
    <a href="../docs/thinking.html">Open Questions & Ideas</a>
    <a href="../docs/decisions.html">Key Decisions</a>
    <a href="../docs/qa.html">Research Q&A</a>
    <div class="dropdown-divider"></div>
    <div class="dropdown-group-label">Task tracking</div>
    <a href="../docs/todo.html">Active Tasks</a>
    <a href="../docs/done.html">Completed Tasks</a>
    <div class="dropdown-divider"></div>
    <div class="dropdown-group-label">Communication</div>
    <a href="../docs/meetings.html">Meeting Notes</a>
    <a href="../docs/feedback.html">External Feedback</a>
    <div class="dropdown-divider"></div>
    <div class="dropdown-group-label">Court analysis</div>
    <a href="../docs/01-stf-reasoning-templates.html">STF Reasoning Templates</a>
    <a href="../docs/02-stj-repetitivos-patterns.html">STJ Repetitivos Patterns</a>
    <a href="../docs/03-tjsp-plans-vs-sus.html">TJSP: Plans vs SUS</a>
    <a href="../docs/04-conitec-pcdt-vs-courts.html">CONITEC vs Courts</a>
    <a href="../docs/05-interfederative-responsibility.html">Interfederative Responsibility</a>
    </div>
  </div>
  <div class="nav-dropdown">
    <button class="nav-link active">Data &#9662;</button>
    <div class="dropdown-menu">
    <a href="../sources/tjsp.html">TJSP</a>
    <a href="../sources/datajud.html">DataJud</a>
    <a href="../sources/stf-stj.html">STF & STJ</a>
    <a href="../sources/trf3.html">TRF3</a>
    <a href="../sources/spending.html">Municipal Spending</a>
    <a href="../sources/legislation.html">Health Legislation</a>
    </div>
  </div>
  <a href="../references/index.html" class="nav-link">References</a>
  <a href="../news/index.html" class="nav-link">News</a>
</nav>
<script>
document.querySelectorAll('.nav-dropdown > .nav-link').forEach(function(btn) {
  btn.addEventListener('click', function(e) {
    e.stopPropagation();
    var dd = btn.parentElement;
    var wasOpen = dd.classList.contains('open');
    document.querySelectorAll('.nav-dropdown.open').forEach(function(d) { d.classList.remove('open'); });
    if (!wasOpen) dd.classList.add('open');
  });
});
document.addEventListener('click', function() {
  document.querySelectorAll('.nav-dropdown.open').forEach(function(d) { d.classList.remove('open'); });
});
</script>

<div class="page-header">
  <h1>TJSP Consulta Movements (Grau 2)</h1>
  <p>Procedural event log for appellate cases from TJSP consulta.</p>
</div>

<div class="stats-bar" id="stats-bar"></div>

<main>

<!-- Data source notes -->
<div id="source-notes-section"></div>

<!-- Column info -->
<h2 class="section-title">Column Information</h2>
<div class="card full">
  <div style="overflow-x:auto; max-height:400px; overflow-y:auto;">
    <table class="col-table" id="col-table"></table>
  </div>
</div>

<!-- Distribution charts -->
<div id="dist-section"></div>

<!-- Temporal charts -->
<div id="temporal-section"></div>

<!-- Sample data -->
<h2 class="section-title">Sample Data (50 rows)</h2>
<div class="card full">
  <div class="search-bar">
    <input type="text" id="search" placeholder="Search across all columns...">
    <span class="count-label" id="row-count"></span>
  </div>
  <div class="table-wrap">
    <table class="data-table">
      <thead id="thead"></thead>
      <tbody id="tbody"></tbody>
    </table>
  </div>
</div>

</main>

<footer>
  Generated by <code>bash build.sh site</code>
</footer>

<script>
// ═══════════════════════════════════════════════════════════════
//  Embedded data — replaced by build pipeline
// ═══════════════════════════════════════════════════════════════
const DATA = /* INJECT_DATA */ {"id":"tjsp-consulta-mov-g2","name":"TJSP Consulta Movements (Grau 2)","description":"Procedural event log for appellate cases from TJSP consulta.","category":"TJSP Consulta","source_notes":"Chronological log of all procedural movements for appellate cases. Tracks appeal processing from receipt to judgment by the câmara.","file_size":445699,"row_count":2943,"col_count":3,"columns":[{"name":"num_npu","dtype":"object","null_count":0,"null_pct":0.0},{"name":"date","dtype":"object","null_count":0,"null_pct":0.0},{"name":"text","dtype":"object","null_count":0,"null_pct":0.0}],"categorical":{},"temporal":{"date":{"min":"2015-01-22","max":"2025-08-12","by_year":{"labels":[2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"values":[35,19,32,114,303,412,1353,238,76,326,35]}}},"sample_columns":["num_npu","date","text"],"sample":[["1003661-29.2020.8.26.0079","2021-03-15","Expedido Certidão  \nCertidão de Publicação de Acórdão [Digital]"],["1006844-58.2020.8.26.0224","2020-06-24","Alteração de relator em cumprimento a despacho  \nMagistrado de origem: Vaga - 6 / [JUDGE] Área de atuação do\nmagistrado (origem): Ambas Magistrado de destino: Vaga - 6 / [JUDGE]\nÁrea de atuação do magistrado (destino): Ambas Motivo: [JUDGE]\nassumiu acervo da [JUDGE], conf. DJE de 18/06/2020"],["1095162-98.2020.8.26.0100","2023-03-16","Decisão Digitalizada  \nSem complemento"],["1003028-08.2017.8.26.0666","2019-10-10","Expedido Termo  \nTermo de Juntada - Automática"],["0004582-31.2017.8.26.0363","2020-09-21","Ciência de acórdão - Prazo - 15 dias  \n[JUDGE], Fica aberta vista à [ORGANIZATION]\npara ciência do v. acórdão, ficando ciente de que a íntegra dos autos do\nprocesso eletrônico encontra-se disponível no endereço\nhttp://esaj.tjsp.jus.Br. **Vencimento:** 16/10/2020"],["1000145-72.2017.8.26.0445","2021-05-07","Expedido Termo  \nTermo de Juntada - Automática"],["1010390-08.2019.8.26.0564","2021-03-31","Recebidos os Autos pela Entrada de Recursos  \nForo de origem: Foro de São Bernardo do Campo Vara de origem: [ORGANIZATION]  \n  \n  [ __ Mais](javascript:)"],["1501249-43.2020.8.26.0540","2022-02-23","Expedido Certidão  \nCertidão de Trânsito em Julgado e Remessa à Vara de Origem - Acórdão"],["1018612-94.2017.8.26.0576","2020-07-01","Expedido Termo  \nTermo de Juntada - Automática"],["1502984-85.2019.8.26.0269","2020-12-03","Petição Intermediária Juntada  \nNº Protocolo: WPRO.20.01421274-9 Tipo da Petição: Parecer da [ORGANIZATION] Data:"],["1086687-56.2020.8.26.0100","2021-06-10","Despacho para Julgamento Virtual ****  \nII Considerando-se que não há probabilidade do direito, dada a taxatividade do\nrol do artigo 1015, do CPC e o aparente descabimento do recurso, nos termos da\njurisprudência: Rejeição da preliminar de ilegitimidade passiva da ora\nagravante. Agravo de instrumento. Art. 1.015, II, do CPC/2015. Não cabimento. A questão acerca da ilegitimidade passiva da parte ora agravante, dependente\nde produção de provas, não ostenta urgência decorrente da inutilidade do\njulgamento da questão no recurso de apelação (STJ-2ª T., Ag em REsp\n1.063.181-AgInt, [JUDGE], j. 17.9.19, DJ 24.9.19). e\ninexistindo risco de dano, nego o efeito suspensivo. III Inicie-se o\nJulgamento Virtual nos termos das Resoluções nº 549/2011 e 772/2017, do [ORGANIZATION], dispensado o contraditório. [LOCATION], 10 de junho de\n2021. [JUDGE] Relator"],["1001977-74.2018.8.26.0100","2019-08-02","Prazo"],["0105881-20.2017.8.26.0050","2019-09-13","Expedido Termo  \nTermo de Juntada - Automática"],["1500910-41.2019.8.26.0210","2021-03-05","Processo encaminhado para o [ORGANIZATION] (Expedido Termo com Vista)  \nTermo de Distribuição com Vista ao [ORGANIZATION] [Digital]"],["1018612-94.2017.8.26.0576","2020-02-10","Publicado em  \nDisponibilizado em 07/02/2020 Tipo de publicação: Julgados Número do Diário\nEletrônico: 2981"],["1012498-20.2019.8.26.0011","2020-06-03","Expedido Certidão  \nCertidão de Publicação de Decisão [Digital]"],["1095162-98.2020.8.26.0100","2021-03-19","Publicado em  \nDisponibilizado em 18/03/2021 Tipo de publicação: Distribuídos Número do\nDiário Eletrônico: 3240"],["1021009-41.2013.8.26.0100","2022-08-25","Expedido Certidão  \nCertidão de Publicação de Acórdão [Digital]"],["1003972-52.2019.8.26.0306","2021-05-19","Expedido Termo de Intimação  \nIlmo(a) Senhor(a), Nos termos do artigo 183 do CPC, fica [PERSON]\ncientificado(a) do r. decisão proferido no processo supramencionado, ficando\nciente de que a íntegra dos autos do processo digital encontram-se disponíveis\nno endereço http://esaj.tjsp.jus.br"],["1012592-55.2019.8.26.0564","2021-04-06","Publicado em  \nDisponibilizado em 05/04/2021 Tipo de publicação: Intimação de Acórdão Número\ndo Diário Eletrônico: 3250"],["1002683-38.2023.8.26.0082","2024-07-19","Prazo"],["1012774-13.2020.8.26.0562","2021-05-13","Expedido Termo  \nTermo de Juntada - Automática"],["0004158-81.2011.8.26.0271","2015-02-06","Recebidos os Autos pelo [ORGANIZATION]"],["1072515-46.2019.8.26.0100","2020-08-11","Processo encaminhado para outra Seção  \nMotivo: . Seção anterior: Feitos Em Grau de Recurso - Triagem Subseção\nanterior: Feitos Em Grau de Recurso - Triagem Seção atual: Direito Privado\nSubseção atual: Direito Privado 3"],["1514232-40.2020.8.26.0228","2022-04-28","Expedido Certidão de Baixa de\nRecurso  \nCertidão de Baixa de Recurso - [Digital]"],["1500910-41.2019.8.26.0210","2021-05-07","Expedido Certidão  \nPrazo Expirado - Intimação de Portal Eletrônico"],["1024201-35.2019.8.26.0564","2021-04-22","Expedido Certidão  \nPrazo Expirado - Intimação de Portal Eletrônico"],["1013156-56.2022.8.26.0361","2024-10-01","Recebidos os Autos pela Entrada de Recursos  \nForo de origem: [ORGANIZATION] Vara de origem: [ORGANIZATION]"],["1013156-56.2022.8.26.0361","2024-09-03","Decisão Monocrática - Não-\nConhecimento  \n1:- Trata-se de ação de declaração de inexigibilidade de débito consistente em\nempréstimo consignado infirmado pela [PERSON], cumulada com indenização por\ndanos materiais e moral decorrentes de descontos em seus proventos. Adota-se o\nrelatório da r. sentença, in verbis: [PERSON]\najuizou a presente ação em face de [ORGANIZATION] Credito,\nFinanciamento e Investimento ([ORGANIZATION]), qualificado nos autos,\nalegando em síntese que no dia 06 de junho de 2022, a Requerente recebeu uma\nligação telefônica da linha nº (21) 9.8210-8354, recebendo a informação que\nhavia feito um empréstimo consignado de R$18.666,85 em seu nome. Aduz que\nnunca realizou qualquer pedido de empréstimo consignado em seu nome, afirmando\ndesconhecer tal empréstimo e negando a celebração de qualquer tipo de contrato\nfirmado entre as partes. Afirma que ao entrar em contato com a central de\natendimento, solicitou uma cópia do contrato, mas não obteve êxito, tendo\ninformações somente via \"WhatsApp\" da [PERSON], momento em que soube que o\nempréstimo foi realizando em 84 x R$ 563,42 sendo a primeira parcela para o\ndia 05/08/2022 e a última parcela para o dia 05/07/2029, sendo o valor total\ndevido de R$ 47.327,28, contratos nº 0050173588 e 2648711000. Alega que\nsolicitou o cancelamento imediato do empréstimo, sendo que, a [PERSON]\ndestacou que não iria cancelar o contrato e que ela poderia utilizar o valor\nR$18.666,85 para pagar outros empréstimos. Pretende seja declarada\ninexistência da dívida, bem como condenação da ré em indenização por danos\nmorais no valor de R$10.000,00. Com a inicial os documentos de fls. 15/31. As\nfls. 120/122 foi deferida a tutela. A instituição financeira ofertou\ncontestação as fls.143/167 alegando a regularidade da contratação. Outrossim,\nafirma ausência de dano moral indenizável e inexistência de responsabilidade. Pugna, nesse sentido, pela improcedência da lide. Juntam-se documentos as fls. 169/191. Réplica as fls. 270/280. Instadas a especificarem provas, parte ré\nmanifestou-se às fls. 287/288. A audiência de conciliação restou infrutífera\nàs fls. 313. Regularizados, vieram os autos conclusos para sentença. É o\nrelatório.. A r. sentença julgou improcedente a ação. Consta do dispositivo:\nAnte o exposto e por tudo o mais que dos autos contas, JULGO IMPROCEDENTE a\nação movida por [PERSON] em face de [ORGANIZATION] Credito, Financiamento e Investimento ([ORGANIZATION]). Em consequência, revogo a liminar deferida às fls. 120/122. Sucumbente,\ncondeno a parte autora ao pagamento das custas, despesas do processo e dos\nhonorários advocatícios do patrono da parte requerida, que fixo em 15% sobre o\nvalor da causa, corrigido do ajuizamento, nos termos do artigo 85, § 2º, do\nCódigo de Processo Civil. [...][ORGANIZATION] [LOCATION], 16 de novembro de 2023. [JUDGE] Juiz de Direito. Apela a vencida,\npretendendo a reforma da r. sentença, aduzindo que a assinatura do contrato\nmediante aplicativo de mensagens (WhatsApp) é ineficaz, sendo absolutamente\nnecessária a existência de certificado digital válido e propugnando pela\nprocedência do pedido inicial (fls. 326/337). O recurso foi processado e\ncontrarrazoado (fls. 379/393). É o relatório. 2:- Decisão proferida nos termos\ndo artigo 932, inciso III, combinado com artigo 1.011, inciso I, ambos do\nCódigo de Processo Civil. O pedido de concessão dos benefícios da assistência\njudiciária gratuita foi indeferido pela decisão de fls. 449/450. Contra\nreferida decisão houve a interposição de agravo interno ao qual foi negado\nprovimento (fls. 464/468). O acórdão proferido no supracitado recurso\ntransitou em julgado (fls. 470). Intimada (fls. 469), a apelante deixou de\nproceder ao recolhimento do preparo, nos termos do § 7º, do artigo 99, do\nCódigo de Processo Civil, consoante certidão de fls. 471. Como ensina [PERSON], in Curso de Direito Processual Civil, Vol. I, 37ª ed.,\nForense, pág. 508: Denomina-se deserção o efeito produzido sobre o recurso\npelo não cumprimento do pressuposto do preparo no prazo devido. Sem o\npagamento das custas devidas, o recurso torna-se descabido, provocando a coisa\njulgada sobre a sentença apelada. Indeferido o pedido de concessão de justiça\ngratuita, a declaração de deserção do recurso é medida que se impõe, porquanto\na apelação veio absolutamente sem preparo, não tendo a recorrente procedido ao\nrecolhimento correspondente, mesmo após regularmente intimada para tanto. 3:-\nAnte o exposto, não se conhece do recurso. Nos termos do § 11, do artigo 85,\ndo Código de Processo Civil, ficam os honorários advocatícios sucumbenciais\nmajorados para 20% sobre o valor da causa atualizado. 4:- Intimem-se. 30/08/2024  |  |  Conclusos para o [JUDGE]  \nTermo de Conclusão - [JUDGE] (com movimentação)"],["1512804-23.2020.8.26.0228","2020-12-16","Processo Cadastrado  \nSJ 2.1.5 - Serviço de Entrada de Autos de Direito Criminal"],["1012225-55.2020.8.26.0577","2021-04-28","Prazo Intimação - 30 Dias  \n[PERSON], Fica intimado o [ORGANIZATION] [ORGANIZATION] ,\nna pessoa de seu representante legal, do v. Acordão proferido nos referidos\nautos, para interposição de eventual recurso. Saliento que a íntegra dos autos\ndo processo digital encontra-se disponível no endereço\nhttp://esaj.tjsp.jus.br. 28/04/2021  |  ! [](/cposg/imagens/doc2.gif) |  Expedido Certidão  \nCertidão de Publicação de Acórdão [Digital]"],["1505922-45.2020.8.26.0228","2020-09-30","Publicado em  \nDisponibilizado em 29/09/2020 Tipo de publicação: Distribuídos Número do\nDiário Eletrônico: 3137"],["1512804-23.2020.8.26.0228","2021-01-18","Documento Expedido  \n[ORGANIZATION] - Vista para Parecer (Distribuição) [Digital]"],["1505022-04.2020.8.26.0506","2024-03-20","Expedido Certidão"],["1505022-04.2020.8.26.0506","2024-08-30","Vista (Contraminuta)  \nVista à(s) parte(s) contrária(s) para apresentar(em) contraminuta ao(s)\nagravo(s) interposto(s), no prazo legal. 29/08/2024  |  |  Juntada de petição  \nNº Protocolo: WPRO.24.03042612-3 Tipo da Petição: Agravo em Recurso Especial\nData: 29/08/2024 15:11"],["1007790-71.2020.8.26.0566","2024-03-22","Expedido Termo"],["1002683-38.2023.8.26.0082","2024-06-24","Publicado em  \nDisponibilizado em 21/06/2024 Tipo de publicação: Despacho Número do Diário\nEletrônico: 3992"],["1007790-71.2020.8.26.0566","2021-03-26","Petição Intermediária Juntada  \nNº Protocolo: WPRO.21.00339006-4 Tipo da Petição: Ciência da PGJ Data:"],["1514232-40.2020.8.26.0228","2022-03-08","Ciência Antecipada Intimação Eletrônica"],["1018612-94.2017.8.26.0576","2020-01-20","Conclusos para o Relator"],["1013156-56.2022.8.26.0361","2024-09-30","Baixa Definitiva"],["1500984-04.2020.8.26.0229","2021-03-17","Publicado em  \nDisponibilizado em 16/03/2021 Tipo de publicação: Distribuídos Número do\nDiário Eletrônico: 3238"],["1047027-58.2020.8.26.0002","2022-10-19","Expedido Certidão de Baixa de\nRecurso  \nCertidão de Baixa de Recurso - [Digital]"],["1094108-97.2020.8.26.0100","2021-03-19","Vista (Contrarrazões)  \nVista à(s) parte(s) recorrida(s) para apresentação de contrarrazões. Em caso\nde dúvidas, acessar o andamento processual pelo site do Tribunal, onde é\npossível conferir o(s) número(s) de protocolo(s) do(s) recurso(s) juntado(s). 16/03/2021  |  |  Processo encaminhado para o Processamento de Recursos"],["1129557-53.2019.8.26.0100","2021-01-25","Publicado em  \nDisponibilizado em 22/01/2021 Tipo de publicação: Entrados Número do Diário\nEletrônico: 3202"],["1013156-56.2022.8.26.0361","2024-05-17","Petição Intermediária Juntada  \nNº Protocolo: [ORGANIZATION].24.00653541-4 Tipo da Petição: Petição Intermediária -\nDigitalização Data: 17/05/2024 21:54"],["1514232-40.2020.8.26.0228","2021-03-16","Publicado em  \nDisponibilizado em 15/03/2021 Tipo de publicação: Entrados Número do Diário\nEletrônico: 3237"],["1129557-53.2019.8.26.0100","2021-01-18","Recebidos os Autos pela Entrada de Recursos  \nForo de origem: [ORGANIZATION] Vara de origem: [ORGANIZATION]  \n  \n  [ __ Mais](javascript:)"],["1013156-56.2022.8.26.0361","2024-10-11","Publicado em  \nDisponibilizado em 10/10/2024 Tipo de publicação: Diligência Número do Diário\nEletrônico: 4069"],["1010390-08.2019.8.26.0564","2021-07-21","Expedido Certidão  \nCertidão de Trânsito em Julgado [Digital]"]]};

// ═══════════════════════════════════════════════════════════════
//  Helpers
// ═══════════════════════════════════════════════════════════════
const pal = ['#0d6efd','#198754','#dc3545','#fd7e14','#6f42c1','#20c997',
             '#0dcaf0','#d63384','#ffc107','#6610f2','#adb5bd','#e85d04',
             '#2b9348','#4361ee','#f72585'];
function fmtNum(n) { return n.toLocaleString('en'); }
function fmtSize(bytes) {
  if (bytes < 1024) return bytes + ' B';
  if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';
  return (bytes / 1048576).toFixed(1) + ' MB';
}

// ═══════════════════════════════════════════════════════════════
//  Data source notes
// ═══════════════════════════════════════════════════════════════
(function() {
  if (!DATA.source_notes) return;
  const section = document.getElementById('source-notes-section');
  const h2 = document.createElement('h2');
  h2.className = 'section-title';
  h2.textContent = 'About This Dataset';
  section.appendChild(h2);
  const card = document.createElement('div');
  card.className = 'card full';
  card.innerHTML = '<p style="font-size:.9rem;line-height:1.7;color:#333">' + DATA.source_notes + '</p>';
  section.appendChild(card);
})();

// ═══════════════════════════════════════════════════════════════
//  Stats bar
// ═══════════════════════════════════════════════════════════════
(function() {
  const bar = document.getElementById('stats-bar');
  const items = [
    ['Rows', fmtNum(DATA.row_count)],
    ['Columns', fmtNum(DATA.col_count)],
    ['File Size', fmtSize(DATA.file_size)],
  ];
  // Add temporal ranges
  Object.entries(DATA.temporal || {}).forEach(([col, t]) => {
    items.push(['Date Range (' + col + ')', t.min + ' to ' + t.max]);
  });
  items.forEach(([label, value]) => {
    const d = document.createElement('div');
    d.className = 'stat-card';
    d.innerHTML = '<div class="value">' + value + '</div><div class="label">' + label + '</div>';
    bar.appendChild(d);
  });
})();

// ═══════════════════════════════════════════════════════════════
//  Column info table
// ═══════════════════════════════════════════════════════════════
(function() {
  const table = document.getElementById('col-table');
  let html = '<thead><tr><th>#</th><th>Column</th><th>Type</th><th>Nulls</th><th>Null %</th></tr></thead><tbody>';
  DATA.columns.forEach((c, i) => {
    const barW = Math.min(c.null_pct, 100);
    html += '<tr><td>' + (i + 1) + '</td><td><strong>' + c.name + '</strong></td>'
      + '<td>' + c.dtype + '</td>'
      + '<td>' + fmtNum(c.null_count) + '</td>'
      + '<td><span class="null-bar" style="width:' + barW + 'px"></span> ' + c.null_pct + '%</td></tr>';
  });
  html += '</tbody>';
  table.innerHTML = html;
})();

// ═══════════════════════════════════════════════════════════════
//  Categorical distribution charts
// ═══════════════════════════════════════════════════════════════
(function() {
  const section = document.getElementById('dist-section');
  const cats = Object.entries(DATA.categorical || {});
  if (cats.length === 0) return;

  const h2 = document.createElement('h2');
  h2.className = 'section-title';
  h2.textContent = 'Categorical Distributions (Top 15)';
  section.appendChild(h2);

  const grid = document.createElement('div');
  grid.className = 'grid';
  section.appendChild(grid);

  cats.forEach(([col, d], idx) => {
    const card = document.createElement('div');
    card.className = 'card';
    const labels = d.labels.map(s => String(s).length > 40 ? String(s).slice(0, 38) + '\u2026' : String(s));
    card.innerHTML = '<h3>' + col + '</h3><div class="chart-wrap hbar"><canvas id="cat-' + idx + '"></canvas></div>';
    grid.appendChild(card);

    // Render after DOM insertion
    setTimeout(() => {
      new Chart(document.getElementById('cat-' + idx), {
        type: 'bar',
        data: { labels: labels, datasets: [{ data: d.values, backgroundColor: pal[idx % pal.length] }] },
        options: {
          indexAxis: 'y', responsive: true, maintainAspectRatio: false,
          plugins: { legend: { display: false } },
          scales: { x: { beginAtZero: true } }
        }
      });
    }, 0);
  });
})();

// ═══════════════════════════════════════════════════════════════
//  Temporal charts
// ═══════════════════════════════════════════════════════════════
(function() {
  const section = document.getElementById('temporal-section');
  const temps = Object.entries(DATA.temporal || {});
  if (temps.length === 0) return;

  const h2 = document.createElement('h2');
  h2.className = 'section-title';
  h2.textContent = 'Temporal Distribution';
  section.appendChild(h2);

  const grid = document.createElement('div');
  grid.className = 'grid';
  section.appendChild(grid);

  temps.forEach(([col, t], idx) => {
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = '<h3>' + col + ' by year</h3><div class="chart-wrap bar"><canvas id="temp-' + idx + '"></canvas></div>';
    grid.appendChild(card);

    setTimeout(() => {
      new Chart(document.getElementById('temp-' + idx), {
        type: 'bar',
        data: {
          labels: t.by_year.labels,
          datasets: [{ label: 'Count', data: t.by_year.values, backgroundColor: '#0d6efd' }]
        },
        options: {
          responsive: true, maintainAspectRatio: false,
          plugins: { legend: { display: false } },
          scales: { y: { beginAtZero: true } }
        }
      });
    }, 0);
  });
})();

// ═══════════════════════════════════════════════════════════════
//  Sample data table
// ═══════════════════════════════════════════════════════════════
const allRows = DATA.sample || [];
const sampleCols = DATA.sample_columns || [];

(function() {
  document.getElementById('thead').innerHTML = '<tr>' + sampleCols.map(c => '<th>' + c + '</th>').join('') + '</tr>';
  const searchEl = document.getElementById('search');
  const countEl = document.getElementById('row-count');
  const tbody = document.getElementById('tbody');

  function render() {
    const q = searchEl.value.toLowerCase();
    const rows = q ? allRows.filter(r => r.some(v => String(v).toLowerCase().includes(q))) : allRows;
    tbody.innerHTML = rows.map(r =>
      '<tr>' + r.map(v => '<td>' + v + '</td>').join('') + '</tr>'
    ).join('');
    countEl.textContent = rows.length + ' of ' + allRows.length + ' rows';
  }
  searchEl.addEventListener('input', render);
  render();
})();
</script>
</body>
</html>
