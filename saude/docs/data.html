<!DOCTYPE html>
<html lang="en">
<head>
<meta name="robots" content="noindex, nofollow">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Data Sources — Judicialização da Saúde</title>
<style>
  :root {
    --bg: #f8f9fa; --card: #fff; --fg: #1a1a1a; --muted: #666;
    --border: #dee2e6; --accent: #0d6efd; --accent2: #198754;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background: var(--bg); color: var(--fg); line-height: 1.5;
  }

  main {
    padding: 1.5rem 2rem 3rem; max-width: 900px; margin: 0 auto;
  }

  /* Markdown body styles */
  .md-body { font-size: .92rem; line-height: 1.7; color: #1f2328; }

  .md-body h1 { font-size: 1.5rem; font-weight: 600; margin: 1.8rem 0 .8rem; padding-bottom: .3rem; border-bottom: 1px solid var(--border); }
  .md-body h2 { font-size: 1.25rem; font-weight: 600; margin: 1.6rem 0 .6rem; padding-bottom: .25rem; border-bottom: 1px solid var(--border); }
  .md-body h3 { font-size: 1.05rem; font-weight: 600; margin: 1.3rem 0 .5rem; }
  .md-body h4 { font-size: .95rem; font-weight: 600; margin: 1.1rem 0 .4rem; }
  .md-body h5, .md-body h6 { font-size: .88rem; font-weight: 600; margin: 1rem 0 .4rem; }
  .md-body h1:first-child { margin-top: 0; }

  .md-body p { margin: 0 0 .8rem; }

  .md-body ul, .md-body ol { margin: 0 0 .8rem; padding-left: 1.8rem; }
  .md-body li { margin-bottom: .25rem; }
  .md-body li > ul, .md-body li > ol { margin-top: .25rem; margin-bottom: 0; }

  /* Task lists */
  .md-body ul li { list-style: disc; }
  .md-body li input[type="checkbox"] {
    margin-right: .4rem; vertical-align: middle; position: relative; top: -1px;
  }

  .md-body a { color: var(--accent); text-decoration: none; }
  .md-body a:hover { text-decoration: underline; }

  .md-body strong { font-weight: 600; }

  .md-body blockquote {
    margin: 0 0 .8rem; padding: .4rem 1rem;
    border-left: 4px solid var(--accent); background: #f0f4f8;
    color: #555; font-size: .88rem;
  }
  .md-body blockquote p:last-child { margin-bottom: 0; }

  .md-body code {
    font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
    font-size: .85em; background: #eef1f5; padding: .15rem .35rem;
    border-radius: 4px;
  }
  .md-body pre {
    margin: 0 0 .8rem; padding: .9rem 1rem;
    background: #f6f8fa; border: 1px solid var(--border);
    border-radius: 6px; overflow-x: auto; line-height: 1.45;
  }
  .md-body pre code {
    background: none; padding: 0; font-size: .82rem;
  }

  .md-body table {
    width: 100%; border-collapse: collapse; margin: 0 0 .8rem;
    font-size: .85rem; display: block; overflow-x: auto;
  }
  .md-body th, .md-body td {
    padding: .45rem .7rem; border: 1px solid var(--border); text-align: left;
  }
  .md-body th { background: #f0f4f8; font-weight: 600; }
  .md-body tr:nth-child(even) td { background: #fafbfc; }

  .md-body hr {
    border: none; border-top: 1px solid var(--border); margin: 1.5rem 0;
  }

  .md-body img { max-width: 100%; }

  /* Collapsible sections */
  .doc-controls { margin-bottom: 1rem; }
  .doc-controls button {
    font-size: .8rem; padding: .3rem .7rem; cursor: pointer;
    background: var(--card); border: 1px solid var(--border); border-radius: 4px;
    color: var(--accent); font-weight: 600;
  }
  .doc-controls button:hover { background: #e7f1ff; }
  .md-body details { margin-bottom: .5rem; }
  .md-body details summary {
    font-weight: 600; cursor: pointer; list-style: none;
  }
  .md-body details summary::-webkit-details-marker { display: none; }
  .md-body details summary::before {
    content: "\25b6"; font-size: .7em; margin-right: .5rem;
    display: inline-block; transition: transform .15s;
  }
  .md-body details[open] summary::before { transform: rotate(90deg); }
  .md-body details.level-2 > summary {
    font-size: 1.25rem; padding-bottom: .25rem;
    border-bottom: 1px solid var(--border); margin: 1.6rem 0 .6rem;
  }
  .md-body details.level-3 > summary {
    font-size: 1.05rem; margin: 1.3rem 0 .5rem;
  }

  footer {
    text-align: center; padding: 1.5rem; font-size: .8rem; color: var(--muted);
    border-top: 1px solid var(--border); margin-top: 2rem;
  }
</style>
</head>
<body>

<style>
  .site-nav {
    position: sticky; top: 0; z-index: 100;
    background: #212529; display: flex; align-items: center;
    padding: 0 2rem; height: 3rem;
  }
  .site-nav .nav-brand {
    color: #fff; text-decoration: none; font-weight: 600; font-size: 1rem;
    margin-right: auto;
  }
  .site-nav .nav-brand:hover { color: #e9ecef; }
  .site-nav .nav-link {
    color: #adb5bd; text-decoration: none; font-size: .85rem;
    padding: 0 .75rem; height: 3rem; display: flex; align-items: center;
    background: none; border: none; cursor: pointer; font-family: inherit;
  }
  .site-nav .nav-link:hover, .site-nav .nav-link.active { color: #fff; }
  .nav-dropdown { position: relative; }
  .dropdown-menu {
    display: none; position: absolute; top: 3rem; right: 0;
    background: #fff; border: 1px solid var(--border); border-radius: 6px;
    box-shadow: 0 4px 16px rgba(0,0,0,.12); min-width: 220px;
    padding: .4rem 0; z-index: 200; max-height: 80vh; overflow-y: auto;
  }
  .nav-dropdown.open .dropdown-menu { display: block; }
  .dropdown-menu a {
    display: block; padding: .3rem 1rem; color: #1a1a1a;
    text-decoration: none; font-size: .82rem;
  }
  .dropdown-menu a:hover { background: #f0f4f8; }
  .dropdown-group-label {
    padding: .4rem 1rem .15rem; font-size: .68rem; font-weight: 700;
    color: #888; text-transform: uppercase; letter-spacing: .04em;
  }
  .dropdown-divider { border-top: 1px solid #eee; margin: .3rem 0; }
  .page-header {
    padding: .8rem 2rem; border-bottom: 1px solid var(--border); background: #fff;
  }
  .page-header h1 { font-size: 1.3rem; font-weight: 600; }
  .page-header p { color: var(--muted); font-size: .85rem; margin-top: .15rem; }
</style>

<nav class="site-nav">
  <a href="../index.html" class="nav-brand">Judicialização da Saúde</a>
  <a href="../paper/index.html" class="nav-link">Paper</a>
  <div class="nav-dropdown">
    <button class="nav-link active">Docs &#9662;</button>
    <div class="dropdown-menu">
    <div class="dropdown-group-label">Research reference</div>
    <a href="../docs/README.html">Project Overview</a>
    <a href="../docs/summary.html">Research Summary</a>
    <a href="../docs/institutions.html">Institutional Background</a>
    <a href="../docs/data.html">Data Sources</a>
    <a href="../docs/methods.html">Empirical Methods</a>
    <a href="../docs/literature.html">Literature</a>
    <a href="../docs/theory.html">Theoretical Framework</a>
    <a href="../docs/hypotheses.html">Hypotheses & Evidence</a>
    <div class="dropdown-divider"></div>
    <div class="dropdown-group-label">Working notes</div>
    <a href="../docs/thinking.html">Open Questions & Ideas</a>
    <a href="../docs/decisions.html">Key Decisions</a>
    <a href="../docs/qa.html">Research Q&A</a>
    <div class="dropdown-divider"></div>
    <div class="dropdown-group-label">Task tracking</div>
    <a href="../docs/todo.html">Active Tasks</a>
    <a href="../docs/done.html">Completed Tasks</a>
    <div class="dropdown-divider"></div>
    <div class="dropdown-group-label">Communication</div>
    <a href="../docs/meetings.html">Meeting Notes</a>
    <a href="../docs/feedback.html">External Feedback</a>
    <div class="dropdown-divider"></div>
    <div class="dropdown-group-label">Court analysis</div>
    <a href="../docs/01-stf-reasoning-templates.html">STF Reasoning Templates</a>
    <a href="../docs/02-stj-repetitivos-patterns.html">STJ Repetitivos Patterns</a>
    <a href="../docs/03-tjsp-plans-vs-sus.html">TJSP: Plans vs SUS</a>
    <a href="../docs/04-conitec-pcdt-vs-courts.html">CONITEC vs Courts</a>
    <a href="../docs/05-interfederative-responsibility.html">Interfederative Responsibility</a>
    </div>
  </div>
  <div class="nav-dropdown">
    <button class="nav-link">Data &#9662;</button>
    <div class="dropdown-menu">
    <a href="../sources/tjsp.html">TJSP</a>
    <a href="../sources/datajud.html">DataJud</a>
    <a href="../sources/stf-stj.html">STF & STJ</a>
    <a href="../sources/trf3.html">TRF3</a>
    <a href="../sources/spending.html">Municipal Spending</a>
    <a href="../sources/legislation.html">Health Legislation</a>
    </div>
  </div>
  <a href="../references/index.html" class="nav-link">References</a>
  <a href="../news/index.html" class="nav-link">News</a>
</nav>
<script>
document.querySelectorAll('.nav-dropdown > .nav-link').forEach(function(btn) {
  btn.addEventListener('click', function(e) {
    e.stopPropagation();
    var dd = btn.parentElement;
    var wasOpen = dd.classList.contains('open');
    document.querySelectorAll('.nav-dropdown.open').forEach(function(d) { d.classList.remove('open'); });
    if (!wasOpen) dd.classList.add('open');
  });
});
document.addEventListener('click', function() {
  document.querySelectorAll('.nav-dropdown.open').forEach(function(d) { d.classList.remove('open'); });
});
</script>

<div class="page-header">
  <h1>Data Sources</h1>
</div>

<main>
<div class="doc-controls">
  <button id="toggle-sections">Expand all</button>
</div>
<div class="md-body">
<h1>Data Sources Documentation</h1>
<p>This document describes all data sources collected for the Brazilian health judicialization research project.</p>
<h2 id="overview">Overview</h2>
<table>
<thead>
<tr>
  <th>Source</th>
  <th>Location</th>
  <th>Records</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>TJSP Sentenças (Collapsed)</td>
  <td><code>data/tjsp/sentencas_health_collapsed.csv</code></td>
  <td>478,882 rows (1.29M cases)</td>
  <td>Primary dataset for judge IV</td>
</tr>
<tr>
  <td>TJSP Sentenças (Text)</td>
  <td><code>data/tjsp/sentencas_health_anonymized.csv</code></td>
  <td>200 (sample)</td>
  <td>Anonymized text extracts</td>
</tr>
<tr>
  <td>TJSP Acórdãos</td>
  <td><code>data/tjsp/acordaos_health_anonymized.csv</code></td>
  <td>1,000</td>
  <td>Appellate decisions</td>
</tr>
<tr>
  <td>TJSP Consulta (Raw)</td>
  <td><code>data/tjsp/consulta/raw/</code></td>
  <td>289 markdown files</td>
  <td>Scraped case pages from e-SAJ</td>
</tr>
<tr>
  <td>TJSP Consulta (Anonymized)</td>
  <td><code>data/tjsp/consulta/anonymized/</code></td>
  <td>289 markdown files</td>
  <td>PII-redacted case pages</td>
</tr>
<tr>
  <td>TJSP Consulta (Parsed)</td>
  <td><code>data/tjsp/consulta/parsed/</code></td>
  <td>246 cases, 17K movements</td>
  <td>Structured case metadata</td>
</tr>
<tr>
  <td>TJSP Frequency Tables</td>
  <td><code>build/summary/</code></td>
  <td>3 files</td>
  <td>Assunto, classe, cross-tab</td>
</tr>
<tr>
  <td>DataJud (Raw)</td>
  <td><code>data/datajud/saude_tjsp.jsonl</code></td>
  <td>~2,000 cases</td>
  <td>Raw JSONL from CNJ API</td>
</tr>
<tr>
  <td>DataJud (Processed)</td>
  <td><code>build/clean/datajud/</code></td>
  <td>2,000 cases + 4 lookups</td>
  <td>Normalized CSVs</td>
</tr>
<tr>
  <td>STF &amp; STJ</td>
  <td><code>data/stf_stj/health_anonymized.csv</code></td>
  <td>3,500</td>
  <td>Superior court decisions</td>
</tr>
<tr>
  <td>TRF3</td>
  <td><code>data/trf3/health_anonymized.csv</code></td>
  <td>1,000</td>
  <td>Federal regional court</td>
</tr>
<tr>
  <td>TCE-SP</td>
  <td><code>data/tce_sp/</code></td>
  <td>~22 GB (zipped)</td>
  <td>Municipal expenditure 2008–2024</td>
</tr>
<tr>
  <td>TPU</td>
  <td><code>data/tpu/</code></td>
  <td>2 files</td>
  <td>CNJ unified subject taxonomy</td>
</tr>
<tr>
  <td>Health Legislation</td>
  <td><code>build/clean/health_legislation.csv</code></td>
  <td>21,618</td>
  <td>Planalto + SaudeLegis</td>
</tr>
<tr>
  <td>Planalto (full)</td>
  <td><code>data/planalto/planalto_legislacao.db</code></td>
  <td>57,255 laws</td>
  <td>Federal legislation (SQLite, 3.3 GB)</td>
</tr>
<tr>
  <td>Planalto (health)</td>
  <td><code>data/planalto/planalto_health.db</code></td>
  <td>7,119 laws</td>
  <td>Health-filtered extract (SQLite, 159 MB)</td>
</tr>
<tr>
  <td>Saúde Legis</td>
  <td><code>data/saudelegis/saudelegis.db</code></td>
  <td>17,946 docs</td>
  <td>Ministry of Health acts (SQLite)</td>
</tr>
<tr>
  <td>Curated PDFs</td>
  <td><code>references/</code></td>
  <td>40+ files</td>
  <td>Key reference documents</td>
</tr>
</tbody>
</table>
<h2 id="data-source-citations">Data Source Citations</h2>
<table>
<thead>
<tr>
  <th>Source</th>
  <th>Institution</th>
  <th>URL</th>
  <th>Authority</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>DataJud</strong></td>
  <td>CNJ</td>
  <td>https://www.cnj.jus.br/sistemas/datajud/</td>
  <td>Resolução CNJ 331/2020</td>
</tr>
<tr>
  <td><strong>TCE-SP</strong></td>
  <td>TCE-SP</td>
  <td>https://transparencia.tce.sp.gov.br/conjunto-de-dados</td>
  <td>Audesp system</td>
</tr>
<tr>
  <td><strong>TJSP e-SAJ</strong></td>
  <td>TJSP</td>
  <td>https://esaj.tjsp.jus.br/</td>
  <td>Consulta de Julgados + DJE</td>
</tr>
<tr>
  <td><strong>DATASUS (SIH)</strong></td>
  <td>Min. da Saúde</td>
  <td>https://datasus.saude.gov.br/</td>
  <td>Hospital admissions</td>
</tr>
<tr>
  <td><strong>DATASUS (SIM)</strong></td>
  <td>Min. da Saúde</td>
  <td>https://datasus.saude.gov.br/</td>
  <td>Mortality records</td>
</tr>
<tr>
  <td><strong>DATASUS (SINASC)</strong></td>
  <td>Min. da Saúde</td>
  <td>https://datasus.saude.gov.br/</td>
  <td>Live birth records</td>
</tr>
<tr>
  <td><strong>SIOPS</strong></td>
  <td>Min. da Saúde</td>
  <td>https://www.gov.br/saude/pt-br/acesso-a-informacao/siops</td>
  <td>Public health budgets</td>
</tr>
<tr>
  <td><strong>RAIS</strong></td>
  <td>MTE</td>
  <td>https://www.rais.gov.br/</td>
  <td>Formal employment census</td>
</tr>
<tr>
  <td><strong>CadÚnico</strong></td>
  <td>MDS</td>
  <td>https://www.gov.br/mds/pt-br/acoes-e-programas/cadastro-unico</td>
  <td>Social program registry</td>
</tr>
<tr>
  <td><strong>CNJ TPU</strong></td>
  <td>CNJ</td>
  <td>https://www.cnj.jus.br/programas-e-acoes/tabela-processuais-unificadas/</td>
  <td>Resolução CNJ 46/2007</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="1-datajud-cnj-api">1. DataJud (CNJ API)</h2>
<p><strong>Source:</strong> CNJ DataJud API — https://www.cnj.jus.br/sistemas/datajud/</p>
<p><strong>Scraper:</strong> <code>source/scrape/datajud_saude.py</code></p>
<p><strong>Cleaner:</strong> <code>source/clean/clean_datajud.py</code></p>
<p><strong>Raw data:</strong> <code>data/datajud/saude_tjsp.jsonl</code> — raw JSONL responses from the DataJud API (TJSP health cases)</p>
<p><strong>Processed data:</strong> <code>build/clean/datajud/</code> — normalized CSVs</p>
<p>DataJud is Brazil's national judicial statistics database, aggregating case metadata from all Brazilian courts via the CNJ's unified numbering system.</p>
<p><strong>Files:</strong></p>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Rows</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>processos.csv</code></td>
  <td>2,000</td>
  <td>Case-level records (case number, court, judge, class, filing date, status)</td>
</tr>
<tr>
  <td><code>processo_assuntos.csv</code></td>
  <td>2,498</td>
  <td>Case–subject linkage (many-to-many)</td>
</tr>
<tr>
  <td><code>assuntos.csv</code></td>
  <td>106</td>
  <td>Subject code lookup (TPU codes + names)</td>
</tr>
<tr>
  <td><code>classes.csv</code></td>
  <td>49</td>
  <td>Case class lookup</td>
</tr>
<tr>
  <td><code>orgaos_julgadores.csv</code></td>
  <td>436</td>
  <td>Court/vara lookup</td>
</tr>
</tbody>
</table>
<h3 id="schema">Schema</h3>
<pre><code>processos ──┐
  processo_id (PK)    │
  classe_codigo (FK) ─────── classes.classe_codigo (PK)
  orgao_codigo  (FK) ─────── orgaos_julgadores.orgao_codigo (PK)
             │
             └──── processo_assuntos
                     processo_id    (FK) → processos.processo_id
                     assunto_codigo (FK) → assuntos.assunto_codigo (PK)
</code></pre>
<p><strong><code>processos.csv</code></strong> — One row per judicial case. Primary key: <code>processo_id</code>.</p>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>processo_id</code></td>
  <td>string</td>
  <td>DataJud document ID (encodes tribunal, classe code, grau, órgão code, case number)</td>
</tr>
<tr>
  <td><code>numero_processo</code></td>
  <td>string</td>
  <td>CNJ unified case number (20 digits)</td>
</tr>
<tr>
  <td><code>tribunal</code></td>
  <td>string</td>
  <td>Tribunal code, e.g. <code>TJSP</code></td>
</tr>
<tr>
  <td><code>grau</code></td>
  <td>string</td>
  <td>Court level: <code>G1</code> (first instance), <code>G2</code> (second instance), <code>JE</code> (special court), <code>TR</code> (appellate panel)</td>
</tr>
<tr>
  <td><code>nivel_sigilo</code></td>
  <td>int</td>
  <td>Secrecy level. <code>0</code> = public</td>
</tr>
<tr>
  <td><code>data_ajuizamento</code></td>
  <td>ISO 8601</td>
  <td>Date the case was filed</td>
</tr>
<tr>
  <td><code>data_ultima_atualizacao</code></td>
  <td>ISO 8601</td>
  <td>Last update timestamp in the source system</td>
</tr>
<tr>
  <td><code>timestamp</code></td>
  <td>ISO 8601</td>
  <td>DataJud indexing timestamp</td>
</tr>
<tr>
  <td><code>classe_codigo</code></td>
  <td>int</td>
  <td>FK → <code>classes.classe_codigo</code></td>
</tr>
<tr>
  <td><code>orgao_codigo</code></td>
  <td>int</td>
  <td>FK → <code>orgaos_julgadores.orgao_codigo</code></td>
</tr>
</tbody>
</table>
<p><strong><code>processo_assuntos.csv</code></strong> — Bridge table linking cases to legal subjects (many-to-many).</p>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>processo_id</code></td>
  <td>string</td>
  <td>FK → <code>processos.processo_id</code></td>
</tr>
<tr>
  <td><code>assunto_codigo</code></td>
  <td>int</td>
  <td>FK → <code>assuntos.assunto_codigo</code>. TPU subject code</td>
</tr>
</tbody>
</table>
<p><strong><code>assuntos.csv</code></strong> — Dimension table of unique legal subjects.</p>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>assunto_codigo</code></td>
  <td>int</td>
  <td>PK. TPU code from the CNJ unified procedural tables</td>
</tr>
<tr>
  <td><code>assunto_nome</code></td>
  <td>string</td>
  <td>Human-readable subject name</td>
</tr>
</tbody>
</table>
<p><strong><code>classes.csv</code></strong> — Dimension table of unique procedural classes.</p>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>classe_codigo</code></td>
  <td>int</td>
  <td>PK. TPU procedural class code</td>
</tr>
<tr>
  <td><code>classe_nome</code></td>
  <td>string</td>
  <td>Human-readable class name</td>
</tr>
</tbody>
</table>
<p><strong><code>orgaos_julgadores.csv</code></strong> — Dimension table of court units.</p>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>orgao_codigo</code></td>
  <td>int</td>
  <td>PK. Internal DataJud court-unit code</td>
</tr>
<tr>
  <td><code>orgao_nome</code></td>
  <td>string</td>
  <td>Name of the court unit</td>
</tr>
<tr>
  <td><code>orgao_municipio_ibge</code></td>
  <td>int or blank</td>
  <td>IBGE municipality code (7 digits) when available</td>
</tr>
</tbody>
</table>
<h3 id="merge-example">Merge example</h3>
<pre><code class="language-python">import pandas as pd

p  = pd.read_csv(&quot;build/clean/datajud/processos.csv&quot;)
pa = pd.read_csv(&quot;build/clean/datajud/processo_assuntos.csv&quot;)
a  = pd.read_csv(&quot;build/clean/datajud/assuntos.csv&quot;)
c  = pd.read_csv(&quot;build/clean/datajud/classes.csv&quot;)
o  = pd.read_csv(&quot;build/clean/datajud/orgaos_julgadores.csv&quot;)

# Full denormalized view
full = (
    pa
    .merge(p, on=&quot;processo_id&quot;)
    .merge(a, on=&quot;assunto_codigo&quot;)
    .merge(c, on=&quot;classe_codigo&quot;)
    .merge(o, on=&quot;orgao_codigo&quot;)
)
</code></pre>
<hr />
<h2 id="2-tce-sp-municipal-spending-data">2. TCE-SP Municipal Spending Data</h2>
<p><strong>Source:</strong> Portal da Transparência Municipal — Tribunal de Contas do Estado de São Paulo
https://transparencia.tce.sp.gov.br/conjunto-de-dados</p>
<p><strong>Location:</strong> <code>data/tce_sp/</code> — downloaded zip files (despesas, receitas, licitações, etc.)</p>
<p>All data originates from the <strong>Audesp</strong> system (Auditoria Eletrônica de Órgãos Públicos),
which collects financial data directly from municipal balance sheets and accounting records.
TCE-SP covers <strong>644 municipalities</strong> in São Paulo state. <strong>São Paulo capital is excluded</strong> — it
falls under TCM-SP (Tribunal de Contas do Município de São Paulo), a separate institution.</p>
<h3 id="key-reference-documents">Key reference documents</h3>
<p>Downloaded to <code>references/audesp/</code>:</p>
<ol>
<li><strong>Manual de Orientações — Estrutura de Códigos Contábeis (2005)</strong> — Defines the 11-digit accounting code structure, the budget execution cycle (empenho → liquidação → pagamento), the fonte de recursos classification, and the <code>historico</code> (free-text description) field.</li>
<li><strong>Manual Fase IV — Módulo Ajustes (2016)</strong> — Documents the procurement data structure.</li>
<li><strong>Manual de Planejamento Público TCE-SP (2021)</strong> — Municipal budget planning guidance.</li>
</ol>
<p>Additional Audesp documentation: https://www.tce.sp.gov.br/audesp/documentacao</p>
<h3 id="despesas-the-key-dataset">Despesas (the key dataset)</h3>
<p>Line-item municipal expenditures. Each row is a single expenditure event
(empenho, liquidação, or pagamento). Period: <strong>2008–2024</strong> (17 years). Format: CSV (zipped, semicolon-delimited, ISO-8859-1 encoding). Total download: ~22 GB zipped. Each file uncompresses to ~10–15 GB CSV.</p>
<p><strong>Columns:</strong></p>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Description</th>
  <th>Use for paper</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>id_despesa_detalhe</code></td>
  <td>Unique row identifier</td>
  <td>Row key</td>
</tr>
<tr>
  <td><code>ano_exercicio</code></td>
  <td>Fiscal year</td>
  <td>Time</td>
</tr>
<tr>
  <td><code>ds_municipio</code></td>
  <td>Municipality name</td>
  <td>Unit of analysis</td>
</tr>
<tr>
  <td><code>codigo_municipio_ibge</code></td>
  <td>IBGE municipality code</td>
  <td>Merge key to other datasets</td>
</tr>
<tr>
  <td><code>ds_orgao</code></td>
  <td>Spending body</td>
  <td>Identify health secretariats</td>
</tr>
<tr>
  <td><code>mes_referencia</code></td>
  <td>Month (1–12)</td>
  <td>Time variation within year</td>
</tr>
<tr>
  <td><code>tp_despesa</code></td>
  <td>Type: Empenhado / Liquidado / Pago</td>
  <td>Use Empenhado for commitments</td>
</tr>
<tr>
  <td><code>nr_empenho</code></td>
  <td>Commitment number</td>
  <td>Link empenho→liquidação→pagamento</td>
</tr>
<tr>
  <td><code>vl_despesa</code></td>
  <td>Value in R$</td>
  <td><strong>Spending amount</strong></td>
</tr>
<tr>
  <td><strong><code>ds_funcao_governo</code></strong></td>
  <td>Government function (e.g., SAÚDE)</td>
  <td><strong>Filter to health</strong></td>
</tr>
<tr>
  <td><strong><code>ds_subfuncao_governo</code></strong></td>
  <td>Sub-function (e.g., ATENÇÃO BÁSICA)</td>
  <td><strong>Key for crowd-out analysis</strong></td>
</tr>
<tr>
  <td><code>cd_programa</code> / <code>ds_programa</code></td>
  <td>Program code / name</td>
  <td>Program-level detail</td>
</tr>
<tr>
  <td><code>cd_acao</code> / <code>ds_acao</code></td>
  <td>Action code / name</td>
  <td>Action-level detail</td>
</tr>
<tr>
  <td><code>ds_fonte_recurso</code></td>
  <td>Revenue source (TESOURO, SUS, etc.)</td>
  <td>Federal vs own-source spending</td>
</tr>
<tr>
  <td><code>ds_modalidade_lic</code></td>
  <td>Procurement modality (PREGÃO, DISPENSA, etc.)</td>
  <td>Procurement channel</td>
</tr>
<tr>
  <td><strong><code>ds_elemento</code></strong></td>
  <td>Expenditure element (detailed category)</td>
  <td>Granular spending type</td>
</tr>
<tr>
  <td><strong><code>historico_despesa</code></strong></td>
  <td>Free-text description</td>
  <td><strong>Contains judicial markers</strong></td>
</tr>
</tbody>
</table>
<p><strong>Technical notes:</strong></p>
<ul>
<li>Encoding: ISO-8859-1 (NOT UTF-8) — must decode with <code>latin-1</code></li>
<li>Use <code>tp_despesa = 'Empenhado'</code> for budget commitments (captures the full fiscal obligation at the time of decision)</li>
</ul>
<h3 id="budget-execution-cycle">Budget execution cycle</h3>
<p>Each expenditure goes through three stages, reflected in the <code>tp_despesa</code> column:</p>
<ol>
<li><strong>Empenhado</strong> — commitment: the government commits to a future payment. Creates a legal obligation.</li>
<li><strong>Liquidado</strong> — verification: the government verifies the goods/services were received.</li>
<li><strong>Pago</strong> — payment: actual disbursement to the vendor.</li>
</ol>
<h3 id="identifying-judicial-spending-from-free-text">Identifying judicial spending from free text</h3>
<p>The <code>historico_despesa</code> field often contains explicit judicial markers:
<code>determinação judicial</code>, <code>cumprimento de sentença</code>, <code>tutela antecipada</code>, <code>mandado de segurança</code>, <code>ordem judicial</code>, <code>decisão judicial</code>, <code>liminar</code>.</p>
<p>From a 1 GB / ~43 municipality sample (2022):</p>
<ul>
<li><strong>31 out of 43 municipalities</strong> (72%) have at least one tagged judicial health expenditure</li>
<li>Judicial share of health spending ranges from <strong>0.0% to 6.8%</strong> across municipalities</li>
</ul>
<h3 id="health-subfun-es-portaria-42-1999">Health subfunções (Portaria 42/1999)</h3>
<p>The functional classification (função/subfunção) follows Portaria MOG 42/1999 and has been <strong>stable since 1999</strong> — no definitional changes over our 2008–2024 study period. Matricialidade (cross-classification) allows subfunções to appear under any função.</p>
<table>
<thead>
<tr>
  <th>Code</th>
  <th>Subfunção</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>301</strong></td>
  <td><strong>Atenção Básica</strong></td>
  <td>Primary care: ESF, UBS, community health agents, preventive/curative care</td>
</tr>
<tr>
  <td><strong>302</strong></td>
  <td><strong>Assistência Hospitalar e Ambulatorial</strong></td>
  <td>Hospital admissions, outpatient treatment, diagnostic services</td>
</tr>
<tr>
  <td><strong>303</strong></td>
  <td><strong>Suporte Profilático e Terapêutico</strong></td>
  <td>Pharmaceutical assistance, blood banks, vaccines, prosthetics. <strong>Likely destination of judicial spending</strong></td>
</tr>
<tr>
  <td><strong>304</strong></td>
  <td><strong>Vigilância Sanitária</strong></td>
  <td>Sanitary surveillance, food safety, licensing</td>
</tr>
<tr>
  <td><strong>305</strong></td>
  <td><strong>Vigilância Epidemiológica</strong></td>
  <td>Disease notification, outbreak investigation, control programs</td>
</tr>
<tr>
  <td>306</td>
  <td>Alimentação e Nutrição</td>
  <td>PNAN, nutritional surveillance, food supplementation</td>
</tr>
</tbody>
</table>
<p>The crowd-out hypothesis: judicial orders shift spending from 301 (Atenção Básica) → 303 (Suporte Profilático e Terapêutico).</p>
<p><strong>Complete Portaria 42 classification</strong> (all 28 funções, ~111 subfunções): see appendix at end of this file.</p>
<h3 id="why-tce-sp-is-superior-to-siops-for-this-paper">Why TCE-SP is superior to SIOPS for this paper</h3>
<table>
<thead>
<tr>
  <th>Feature</th>
  <th>SIOPS</th>
  <th>TCE-SP Despesas</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Granularity</td>
  <td>Annual, by subfunção</td>
  <td>Monthly, line-item</td>
</tr>
<tr>
  <td>Judicial spending</td>
  <td>Not separately identified</td>
  <td>Identifiable from free text</td>
</tr>
<tr>
  <td>Coverage</td>
  <td>All Brazil</td>
  <td>São Paulo state (644 municipalities, excl. capital)</td>
</tr>
<tr>
  <td>Spending detail</td>
  <td>~6 categories</td>
  <td>Subfunção + programa + ação + elemento</td>
</tr>
<tr>
  <td>Free text</td>
  <td>No</td>
  <td>Yes (<code>historico_despesa</code>)</td>
</tr>
<tr>
  <td>Revenue source</td>
  <td>Limited</td>
  <td>Yes (<code>ds_fonte_recurso</code>)</td>
</tr>
<tr>
  <td>Vendor identity</td>
  <td>No</td>
  <td>Yes (CPF/CNPJ + name)</td>
</tr>
<tr>
  <td>Procurement modality</td>
  <td>No</td>
  <td>Yes (<code>ds_modalidade_lic</code>)</td>
</tr>
</tbody>
</table>
<h3 id="other-tce-sp-datasets">Other TCE-SP datasets</h3>
<table>
<thead>
<tr>
  <th>Dataset</th>
  <th>Period</th>
  <th>Size</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Receitas</td>
  <td>2008–2024</td>
  <td>~400 MB</td>
  <td>Municipal revenues by source</td>
</tr>
<tr>
  <td>RCL mensal</td>
  <td>2015+</td>
  <td>~790 KB</td>
  <td>Monthly Net Current Revenue</td>
</tr>
<tr>
  <td>Relatório de Alertas</td>
  <td>2019</td>
  <td>Small</td>
  <td>Audit alerts for fiscal irregularities</td>
</tr>
<tr>
  <td>Relatório de Atividades</td>
  <td>2015–2021</td>
  <td>Small</td>
  <td>Program-level spending</td>
</tr>
<tr>
  <td>Alteração Orçamentária</td>
  <td>2015–2019</td>
  <td>Small</td>
  <td>Budget amendments</td>
</tr>
<tr>
  <td>Licitações e Contratos</td>
  <td>2018+</td>
  <td>~1.6 GB</td>
  <td>Procurement data (bids and contracts)</td>
</tr>
<tr>
  <td>Dívida Ativa</td>
  <td>2014+</td>
  <td>Small</td>
  <td>Outstanding receivables</td>
</tr>
</tbody>
</table>
<h3 id="complementary-spending-sources">Complementary spending sources</h3>
<ul>
<li><strong>BEC (Bolsa Eletrônica de Compras)</strong>: São Paulo state's electronic procurement platform. Contains item-level drug purchase data. Covers <strong>state-level</strong> purchases only (not municipal).</li>
<li><strong>S-CODES (SES/SP)</strong>: Administrative database of all health claims filed against the state (2009–2019+). NOT publicly accessible — requires formal data access agreement.</li>
</ul>
<hr />
<h2 id="3-health-legislation-corpus">3. Health Legislation Corpus</h2>
<p><strong>Source:</strong> Planalto (planalto.gov.br) + SaudeLegis (saudelegis.saude.gov.br)</p>
<p><strong>Scraper/Cleaner:</strong> <code>source/clean/clean_legislation.py</code></p>
<p><strong>Location:</strong> <code>build/clean/health_legislation.csv</code></p>
<p>21,618 health-related legislative acts combining two sources: Planalto (federal legislation portal) and SaudeLegis (Ministry of Health legislation system). Contains the full corpus of health-related legislation including laws, decrees, portarias, and resoluções.</p>
<p>A summary of the corpus is also generated at <code>build/clean/health_legislation_summary.md</code>.</p>
<hr />
<h2 id="4-scraped-databases">4. Scraped Databases</h2>
<h3 id="planalto-federal-legislation">Planalto Federal Legislation</h3>
<p><strong>Source:</strong> https://www.planalto.gov.br/ccivil_03/</p>
<p><strong>Scraper:</strong> Moved to <code>pipelines/bdata</code> repo (<code>source/scrape/planalto_scraper.py</code>)</p>
<p><strong>Two databases:</strong></p>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Records</th>
  <th>Size</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>data/planalto/planalto_legislacao.db</code></td>
  <td>57,255</td>
  <td>~3.3 GB</td>
  <td>Full federal legislation corpus</td>
</tr>
<tr>
  <td><code>data/planalto/planalto_health.db</code></td>
  <td>7,119</td>
  <td>~159 MB</td>
  <td>Health-filtered extract (shareable with coauthors)</td>
</tr>
</tbody>
</table>
<p><strong>Extraction script:</strong> <code>source/clean/extract_planalto_health_db.py</code> — filters the full DB using health-related regex patterns (same terms as <code>extract_health_laws.py</code>), checks ementa and first 5K chars of texto_completo, builds FTS5 index. Run with <code>python -m source.clean.extract_planalto_health_db</code>.</p>
<p><strong>Downstream code</strong> (<code>extract_health_laws.py</code>, <code>notebooklm/config.py</code>, <code>legislation_compiler.py</code>) reads from <code>planalto_health.db</code> by default. Only the extraction script needs the full DB.</p>
<p><strong>Content:</strong> Complete corpus of Brazilian federal legislation including:</p>
<ul>
<li>Leis Ordinárias (ordinary laws)</li>
<li>Leis Complementares (complementary laws)</li>
<li>Decretos (decrees)</li>
<li>Decretos-Lei (decree-laws, pre-1988)</li>
<li>Medidas Provisórias (provisional measures)</li>
<li>Emendas Constitucionais (constitutional amendments)</li>
</ul>
<p><strong>Schema:</strong></p>
<pre><code class="language-sql">-- Main legislation table
legislacao (
    url TEXT UNIQUE,
    tipo TEXT,           -- lei, decreto, medida_provisoria, etc.
    numero TEXT,         -- e.g., &quot;8.080&quot;, &quot;7.508&quot;
    data TEXT,           -- publication date
    ementa TEXT,         -- summary/description
    texto_completo TEXT, -- full text
    html_raw TEXT        -- original HTML
)

-- Full-text search (FTS5)
legislacao_fts (url, tipo, numero, ementa, texto_completo)
</code></pre>
<p><strong>Status:</strong> Scraping complete (Feb 2026). 59,304 URLs discovered, 57,255 downloaded, 2,049 errors (mostly nonexistent compilado URLs returning 404).</p>
<p><strong>Downloaded by type:</strong></p>
<table>
<thead>
<tr>
  <th>Type</th>
  <th>Count</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Lei (ordinary law)</td>
  <td>42,913</td>
</tr>
<tr>
  <td>Decreto-Lei (pre-1988)</td>
  <td>11,382</td>
</tr>
<tr>
  <td>Medida Provisória</td>
  <td>2,138</td>
</tr>
<tr>
  <td>Lei Complementar</td>
  <td>457</td>
</tr>
<tr>
  <td>Decreto</td>
  <td>183</td>
</tr>
<tr>
  <td>Emenda Constitucional</td>
  <td>151</td>
</tr>
<tr>
  <td>Lei Delegada</td>
  <td>26</td>
</tr>
<tr>
  <td>Decreto-Lei Compilado</td>
  <td>3</td>
</tr>
<tr>
  <td>Constituição</td>
  <td>2</td>
</tr>
</tbody>
</table>
<p><strong>Usage:</strong></p>
<pre><code class="language-bash"># Search for health-related laws (run from pipelines/bdata repo)
python source/scrape/planalto_scraper.py search &quot;saúde pública&quot;

# Get statistics
python source/scrape/planalto_scraper.py stats
</code></pre>
<hr />
<h3 id="sa-de-legis-ministry-of-health-data-saudelegis-saudelegis-db">Saúde Legis - Ministry of Health (<code>data/saudelegis/saudelegis.db</code>)</h3>
<p><strong>Source:</strong> https://bvsms.saude.gov.br/bvs/saudelegis/</p>
<p><strong>Scraper:</strong> <code>source/scrape/saudelegis_scraper.py</code></p>
<p><strong>Content:</strong> Normative acts from Ministry of Health and related agencies:</p>
<ul>
<li><strong>SAES</strong> - Secretaria de Atenção Especializada à Saúde (7,368)</li>
<li><strong>ANVISA</strong> - National Health Surveillance Agency (5,448)</li>
<li><strong>ANS</strong> - National Supplementary Health Agency (5,036)</li>
<li>And other health agencies (94)</li>
</ul>
<p><strong>Downloaded by type:</strong></p>
<table>
<thead>
<tr>
  <th>Type</th>
  <th>Count</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Portaria (ordinance)</td>
  <td>8,516</td>
</tr>
<tr>
  <td>Resolução (resolution)</td>
  <td>7,668</td>
</tr>
<tr>
  <td>Resolução de Diretoria Colegiada</td>
  <td>981</td>
</tr>
<tr>
  <td>Consulta Pública</td>
  <td>332</td>
</tr>
<tr>
  <td>Instrução Normativa</td>
  <td>172</td>
</tr>
<tr>
  <td>Other/unclassified</td>
  <td>277</td>
</tr>
</tbody>
</table>
<p><strong>Schema:</strong></p>
<pre><code class="language-sql">documentos (
    url TEXT UNIQUE,
    orgao TEXT,          -- gm, anvisa, ans, cns, etc.
    ano TEXT,            -- year
    tipo TEXT,           -- prt, res, rdc, etc.
    numero TEXT,
    data TEXT,
    ementa TEXT,
    texto_completo TEXT,
    html_raw TEXT
)

-- Full-text search (FTS5)
documentos_fts (url, orgao, tipo, numero, ementa, texto_completo)
</code></pre>
<p><strong>Status:</strong> Scraping complete (Feb 2026). 17,946 documents discovered and downloaded, zero errors.</p>
<p><strong>Usage:</strong></p>
<pre><code class="language-bash"># Search for specific terms
python source/scrape/saudelegis_scraper.py search &quot;medicamentos&quot;

# Get statistics
python source/scrape/saudelegis_scraper.py stats
</code></pre>
<hr />
<h2 id="4b-tpu-subject-taxonomy">4b. TPU Subject Taxonomy</h2>
<p><strong>Source:</strong> CNJ PJe Gateway — https://gateway.cloud.pje.jus.br/tpu/api/v1/publico/download/assuntos</p>
<p><strong>Scraper:</strong> <code>source/scrape/download_assuntos.py</code></p>
<p><strong>Location:</strong> <code>data/tpu/</code></p>
<p>Complete CNJ Unified Procedural Tables (Tabelas Processuais Unificadas) subject catalog. Contains the full hierarchical taxonomy of legal subjects used to classify cases in all Brazilian courts.</p>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Rows</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>tpu_assuntos.json</code></td>
  <td>—</td>
  <td>Raw JSON from PJe API (hierarchical)</td>
</tr>
<tr>
  <td><code>tpu_assuntos.csv</code></td>
  <td>39,035</td>
  <td>Flattened CSV with subject codes, names, court applicability flags</td>
</tr>
</tbody>
</table>
<p><strong>Key columns in CSV:</strong> <code>cod_item</code> (subject code), <code>cod_item_pai</code> (parent code), <code>nome</code> (subject name), plus boolean flags for applicability by court type (e.g., <code>justica_estadual_1grau</code>).</p>
<p><strong>Related:</strong> <code>references/tpu_assuntos_saude.csv</code> contains the curated health-related subset used for case filtering.</p>
<hr />
<h2 id="5-curated-reference-documents">5. Curated Reference Documents</h2>
<h3 id="6-1-cnj-enunciados-references-cnj-enunciados">6.1 CNJ Enunciados (<code>references/cnj_enunciados/</code>)</h3>
<p>Health law forum consensus statements (enunciados) from CNJ-organized events.</p>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>enunciados-sobre-direito-da-saude-v1-2025-05-21.pdf</code></td>
  <td>Consolidated compilation (latest)</td>
</tr>
<tr>
  <td><code>enunciados-aprovados-vi-jornada-saude.pdf</code></td>
  <td>VI Jornada de Direito da Saúde</td>
</tr>
<tr>
  <td><code>enunciados-ii-jornada-saude-2015.pdf</code></td>
  <td>II Jornada (2015)</td>
</tr>
</tbody>
</table>
<p><strong>Source:</strong> https://www.cnj.jus.br/programas-e-acoes/forum-da-saude-3/</p>
<hr />
<h3 id="6-2-cnj-research-amp-studies-references-cnj-normas">6.2 CNJ Research &amp; Studies (<code>references/cnj_normas/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>judicializacao-saude-brasil-2018.pdf</code></td>
  <td>Health litigation panorama 2018</td>
</tr>
<tr>
  <td><code>judicializacao-sociedade-2021.pdf</code></td>
  <td>Health litigation and society 2021</td>
</tr>
<tr>
  <td><code>justica-pesquisa-insper.pdf</code></td>
  <td>INSPER research on health justice</td>
</tr>
<tr>
  <td><code>cnj-relatorio-analitico-2019.pdf</code></td>
  <td>CNJ/INSPER analytical report 2019</td>
</tr>
<tr>
  <td><code>bvs-coletanea-dilemas-judicializacao-v2.pdf</code></td>
  <td>BVS collection: Dilemmas of judicialization</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="6-3-ipea-studies-references-ipea">6.3 IPEA Studies (<code>references/ipea/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>td-2547-direito-saude-judicializacao-2020.pdf</code></td>
  <td>Right to health, judicialization and macrojustice (2020)</td>
</tr>
<tr>
  <td><code>td-3119-gasto-medicamentos-judicializados-2025.pdf</code></td>
  <td>Pharmaceutical spending on judicialized medications (2025)</td>
</tr>
</tbody>
</table>
<p><strong>Source:</strong> https://www.ipea.gov.br/</p>
<p>Key findings: 32.9% of state medication spending in 2023 was due to judicial orders.</p>
<hr />
<h3 id="6-4-fiocruz-research-references-fiocruz">6.4 Fiocruz Research (<code>references/fiocruz/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>coletanea-judicializacao-municipios-2020.pdf</code></td>
  <td>Collection: Health judicialization in Brazilian municipalities (30 papers)</td>
</tr>
</tbody>
</table>
<p><strong>Source:</strong> Fiocruz Brasília / CONASEMS / HCor (Proadi-SUS)</p>
<p>Contains 30 research papers from SUS professionals covering all five regions of Brazil.</p>
<hr />
<h3 id="6-5-tcu-audit-reports-references-tcu">6.5 TCU Audit Reports (<code>references/tcu/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>tcu-orcamento-judicializacao-saude.pdf</code></td>
  <td>Public budget and health judicialization</td>
</tr>
</tbody>
</table>
<p><strong>Source:</strong> Tribunal de Contas da União</p>
<p>Related: Acórdão 1787/2017-TCU-Plenário (operational audit on health judicialization)</p>
<hr />
<h3 id="6-6-conitec-recommendations-references-conitec">6.6 CONITEC Recommendations (<code>references/conitec/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>recomendacoes-conitec-2026.xlsx</code></td>
  <td>Technology incorporation decisions</td>
</tr>
</tbody>
</table>
<p><strong>Source:</strong> https://www.gov.br/conitec/pt-br</p>
<p>Contains recommendations for inclusion/exclusion of medications and procedures in SUS.</p>
<hr />
<h3 id="6-7-pcdts-clinical-protocols-references-pcdts">6.7 PCDTs - Clinical Protocols (<code>references/pcdts/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>pcdts-volume3-2014.pdf</code></td>
  <td>Clinical Protocols and Therapeutic Guidelines Vol. 3</td>
</tr>
</tbody>
</table>
<p><strong>Source:</strong> Ministry of Health</p>
<p>PCDTs define the standard treatment protocols for conditions covered by SUS.</p>
<hr />
<h3 id="6-8-cit-resolutions-references-cit-resolucoes">6.8 CIT Resolutions (<code>references/cit_resolucoes/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>resolucao-consolidacao-cit-01-2021.pdf</code></td>
  <td>Consolidated CIT Resolution 01/2021</td>
</tr>
</tbody>
</table>
<p><strong>Source:</strong> Tripartite Intermanagers Commission (CIT)</p>
<p>Defines responsibilities and rules for health management between federal, state, and municipal levels.</p>
<hr />
<h3 id="6-9-nat-jus-e-natjus-references-natjus">6.9 NAT-Jus / e-NatJus (<code>references/natjus/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>manual-enatjus-cnj.pdf</code></td>
  <td>e-NatJus system user manual</td>
</tr>
</tbody>
</table>
<p><strong>Source:</strong> https://www.cnj.jus.br/programas-e-acoes/forum-da-saude-3/e-natjus/</p>
<p>The e-NatJus system provides technical opinions (notas técnicas) to support judicial decisions on health matters.</p>
<hr />
<h3 id="6-10-stf-binding-precedents-references-stf-teses">6.10 STF Binding Precedents (<code>references/stf_teses/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>sumulas-vinculantes-60-61-saude.txt</code></td>
  <td>Full text of SV 60 and 61 (health)</td>
</tr>
<tr>
  <td><code>sumulas-vinculantes-ate-55.pdf</code></td>
  <td>Súmulas Vinculantes 1-55</td>
</tr>
<tr>
  <td><code>temas-1234-6-manual-pge-ms.pdf</code></td>
  <td>PGE-MS manual on Themes 1234 and 6</td>
</tr>
<tr>
  <td><code>tema-1234-6-desafios-judicializacao.pdf</code></td>
  <td>Academic article on Themes</td>
</tr>
<tr>
  <td><code>tema-793-artigo-pge-pr.pdf</code></td>
  <td>Article on Theme 793 (solidarity)</td>
</tr>
<tr>
  <td><code>caderno-judicializacao-saude-tjsp-2024.pdf</code></td>
  <td>TJSP health litigation handbook</td>
</tr>
</tbody>
</table>
<p><strong>Key Binding Precedents:</strong></p>
<ul>
<li><strong>Tema 6</strong> (RE 566.471): High-cost medications not in SUS</li>
<li><strong>Tema 793</strong> (RE 855.178): Joint liability of federal entities</li>
<li><strong>Tema 1.234</strong> (RE 1.366.243): ANVISA-registered medications not in SUS</li>
<li><strong>SV 60</strong>: Interfederative agreements for medication requests</li>
<li><strong>SV 61</strong>: Requirements for judicial medication grants</li>
</ul>
<hr />
<h3 id="6-11-stj-health-jurisprudence-references-stj-teses">6.11 STJ Health Jurisprudence (<code>references/stj_teses/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>repetitivos-pendentes-tjsp.pdf</code></td>
  <td>Pending repetitive themes at TJSP</td>
</tr>
<tr>
  <td><code>tjrj-seguro-saude-sumulas.pdf</code></td>
  <td>TJRJ health insurance súmulas</td>
</tr>
<tr>
  <td><code>tjrj-plano-saude-sumulas.pdf</code></td>
  <td>TJRJ health plan súmulas</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="6-12-sus-financing-references-sus-financiamento">6.12 SUS Financing (<code>references/sus_financiamento/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>rqpc-ministerio-saude-2025.pdf</code></td>
  <td>Ministry transfer rules 2025</td>
</tr>
<tr>
  <td><code>conasems-financiamento-2025.pdf</code></td>
  <td>CONASEMS financing guide 2025</td>
</tr>
<tr>
  <td><code>conass-gestao-sus.pdf</code></td>
  <td>CONASS SUS management guide</td>
</tr>
<tr>
  <td><code>conass-financiamento-sus-2023.pdf</code></td>
  <td>CONASS financing guide 2023</td>
</tr>
<tr>
  <td><code>nota-tecnica-camara-asps-2023.pdf</code></td>
  <td>Chamber technical note on ASPS</td>
</tr>
<tr>
  <td><code>cnmp-recomendacao-048-saude.pdf</code></td>
  <td>CNMP Recommendation 048 on health</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="6-13-tpu-subject-codes-references-tpu-assuntos-saude-csv">6.13 TPU Subject Codes (<code>references/tpu_assuntos_saude.csv</code>)</h3>
<p>Health-related subject classification codes from the Unified Procedural Tables (TPU).</p>
<p>Used to classify judicial cases by subject matter in Brazilian courts.</p>
<hr />
<h3 id="6-14-medicine-mapping-table-references-mapeamento-medicamentos-judicializados-csv">6.14 Medicine Mapping Table (<code>references/mapeamento_medicamentos_judicializados.csv</code>)</h3>
<p>Cross-reference table linking commonly litigated medications to their administrative status.</p>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>nome_generico</code></td>
  <td>Generic drug name</td>
</tr>
<tr>
  <td><code>nome_comercial</code></td>
  <td>Brand name</td>
</tr>
<tr>
  <td><code>principio_ativo</code></td>
  <td>Active ingredient</td>
</tr>
<tr>
  <td><code>indicacao_principal</code></td>
  <td>Main therapeutic indication</td>
</tr>
<tr>
  <td><code>anvisa_registro</code></td>
  <td>ANVISA registration status</td>
</tr>
<tr>
  <td><code>rename_2024</code></td>
  <td>Included in RENAME 2024?</td>
</tr>
<tr>
  <td><code>conitec_status</code></td>
  <td>CONITEC recommendation</td>
</tr>
<tr>
  <td><code>custo_estimado</code></td>
  <td>Estimated cost per dose/month</td>
</tr>
<tr>
  <td><code>impacto_judicial</code></td>
  <td>Judicial impact level (Muito Alto/Alto/Médio/Baixo)</td>
</tr>
<tr>
  <td><code>notas</code></td>
  <td>Additional context</td>
</tr>
</tbody>
</table>
<p><strong>Coverage:</strong> 30 high-impact medications including:</p>
<ul>
<li>AME treatments (Zolgensma, Spinraza, Evrysdi)</li>
<li>Oncology immunotherapies (Pembrolizumabe, Nivolumabe)</li>
<li>Biologics for autoimmune diseases</li>
<li>Enzyme replacement therapies for rare diseases</li>
<li>High-profile historical cases (Fosfoetanolamina)</li>
</ul>
<hr />
<h3 id="6-15-rename-essential-medicines-references-rename">6.15 RENAME - Essential Medicines (<code>references/rename/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>rename-2024.pdf</code></td>
  <td>National List of Essential Medicines 2024</td>
</tr>
</tbody>
</table>
<p><strong>Source:</strong> Ministry of Health / CONITEC</p>
<p>The official list of ~1,000 medicines and supplies that must be provided by SUS. Key reference for judicialization cases involving medication requests.</p>
<hr />
<h3 id="6-16-cnj-institutional-resolutions-references-cnj-resolucoes">6.16 CNJ Institutional Resolutions (<code>references/cnj_resolucoes/</code>)</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>resolucao-238-2016-forum-saude.pdf</code></td>
  <td>Creates State Health Committees and specialized courts</td>
</tr>
<tr>
  <td><code>resolucao-479-2022-natjus.pdf</code></td>
  <td>Regulates e-NatJus technical opinion system</td>
</tr>
</tbody>
</table>
<p><strong>Source:</strong> Conselho Nacional de Justiça</p>
<p>These resolutions define how judges should use technical support in health cases and the institutional governance framework.</p>
<hr />
<h3 id="6-18-synthesis-memos-references-sinteses">6.18 Synthesis Memos (<code>references/sinteses/</code>)</h3>
<p>Analytical documents synthesizing patterns across the data sources. Designed as &quot;entry points&quot; for understanding health litigation dynamics.</p>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>01-stf-reasoning-templates.md</code></td>
  <td>STF reasoning patterns in Temas 6, 793, 1.234</td>
</tr>
<tr>
  <td><code>02-stj-repetitivos-patterns.md</code></td>
  <td>STJ standardization in health plan cases</td>
</tr>
<tr>
  <td><code>03-tjsp-plans-vs-sus.md</code></td>
  <td>How private vs public arguments differ</td>
</tr>
<tr>
  <td><code>04-conitec-pcdt-vs-courts.md</code></td>
  <td>Administrative vs judicial decision conflicts</td>
</tr>
<tr>
  <td><code>05-interfederative-responsibility.md</code></td>
  <td>Federal/state/municipal responsibility rules</td>
</tr>
</tbody>
</table>
<p><strong>Purpose:</strong> These memos connect the raw data sources (legislation, jurisprudence, administrative docs) into interpretive frameworks.</p>
<hr />
<h3 id="6-19-procedural-law-references-references-legislacao-processual">6.19 Procedural Law References (<code>references/legislacao_processual/</code>)</h3>
<p>Curated procedural &quot;vehicles&quot; used in health litigation.</p>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Content</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>lei-7347-1985-acao-civil-publica.pdf</code></td>
  <td>Public Civil Action Law (collective litigation)</td>
</tr>
<tr>
  <td><code>lei-12016-2009-mandado-seguranca.pdf</code></td>
  <td>Writ of Mandamus Law</td>
</tr>
<tr>
  <td><code>tutela-provisoria-senado.pdf</code></td>
  <td>Senate article on provisional relief (CPC)</td>
</tr>
<tr>
  <td><code>tutela-provisoria-cpc-mpsp.pdf</code></td>
  <td>MPSP article on CPC provisional relief</td>
</tr>
<tr>
  <td><code>tjrj-acao-civil-publica.pdf</code></td>
  <td>TJRJ guide on ACP in practice</td>
</tr>
</tbody>
</table>
<p><strong>Key procedural concepts for health cases:</strong></p>
<ul>
<li><strong>Tutela de urgência</strong> (Art. 300+ CPC): Emergency injunctive relief</li>
<li><strong>Mandado de segurança</strong>: Used against public authorities</li>
<li><strong>Ação civil pública</strong>: Collective actions by MP/Defensoria</li>
<li><strong>Astreintes</strong>: Daily fines for non-compliance</li>
</ul>
<hr />
<h2 id="6-anonymized-court-case-extracts">6. Anonymized Court Case Extracts</h2>
<p>Health-related court cases extracted from Diários de Justiça and TJSP records, with NER-based anonymization. All outputs in <code>data/</code> (gitignored).</p>
<h3 id="6-1-anonymization-module-source-util-anonymize-py">6.1 Anonymization Module (<code>source/util/anonymize.py</code>)</h3>
<p>Uses the <a href="https://github.com/urchade/gliner">GLiNER</a> NER model (<code>urchade/gliner_multi-v2.1</code>) to identify and replace:</p>
<table>
<thead>
<tr>
  <th>Entity</th>
  <th>Replacement</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Person names</td>
  <td><code>[PERSON]</code></td>
</tr>
<tr>
  <td>Judge names</td>
  <td><code>[JUDGE]</code></td>
</tr>
<tr>
  <td>Organizations</td>
  <td><code>[ORGANIZATION]</code></td>
</tr>
<tr>
  <td>Locations</td>
  <td><code>[LOCATION]</code></td>
</tr>
</tbody>
</table>
<p>Regex-based replacement for identity numbers (CPF, RG, CNPJ, PIS, CTPS, OAB) → <code>[IdentityNumber]</code>.</p>
<p>Texts are chunked into 384-token segments (sentence-boundary aware) before NER to respect model limits.</p>
<p><strong>Model cache:</strong> <code>/projects/ec113/cache/hf_models/gliner_multi-v2.1</code></p>
<h3 id="6-2-health-keywords-source-util-health-keywords-py">6.2 Health Keywords (<code>source/util/health_keywords.py</code>)</h3>
<p>Regex pattern (<code>HEALTH_PATTERN</code>) for filtering court texts. Covers:</p>
<ul>
<li>Core terms: saúde, SUS, plano de saúde</li>
<li>Facilities: hospital, clínica, UPA, UBS</li>
<li>Pharmaceuticals: medicamento, fármaco, farmacêutico</li>
<li>Procedures: cirurgia, transplante, quimioterapia, hemodiálise</li>
<li>Regulatory: ANVISA, ANS, CONASS</li>
<li>Litigation terms: negativa de cobertura, fornecimento de medicamento</li>
</ul>
<h3 id="6-3-extraction-scripts">6.3 Extraction Scripts</h3>
<p>All scripts in <code>source/clean/</code> share these features:</p>
<ul>
<li><strong>Checkpoint/resume:</strong> State saved to <code>data/.{name}_progress.json</code> after every 100 rows</li>
<li><strong>Incremental output:</strong> CSV appended in batches, readable while running</li>
<li><strong>Random date sampling:</strong> Files processed in random order for date coverage</li>
</ul>
<table>
<thead>
<tr>
  <th>Script</th>
  <th>Source</th>
  <th>Strategy</th>
  <th>Sample</th>
  <th>Output</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>extract_stf_stj_health.py</code></td>
  <td><code>parse_mov/ST[FJ]*_mov.csv</code></td>
  <td>All health cases, random file order</td>
  <td>3,500</td>
  <td><code>stf_stj_health_anonymized.csv</code></td>
</tr>
<tr>
  <td><code>extract_trf3_health.py</code></td>
  <td><code>parse_mov/TRF3*_mov.csv</code></td>
  <td>Health keyword filter, sample 1,000</td>
  <td>1,000</td>
  <td><code>trf3_health_anonymized.csv</code></td>
</tr>
<tr>
  <td><code>extract_tjsp_sentencas_health.py</code></td>
  <td><code>/projects/ec113/henrik/data/TJSP/sentenca/</code></td>
  <td>Random file picking until 1,000 health cases</td>
  <td>1,000</td>
  <td><code>tjsp_sentencas_health_anonymized.csv</code></td>
</tr>
<tr>
  <td><code>extract_tjsp_acordaos_health.py</code></td>
  <td><code>/projects/ec113/henrik/data/TJSP/acordao/</code></td>
  <td>Health keyword filter on Ementa, sample 1,000</td>
  <td>1,000</td>
  <td><code>tjsp_acordaos_health_anonymized.csv</code></td>
</tr>
<tr>
  <td><code>extract_tjsp_sentencas_health_all.py</code></td>
  <td><code>/projects/ec113/henrik/data/TJSP/sentenca/</code></td>
  <td>All health assuntos (no sampling, no anonymization)</td>
  <td>All</td>
  <td><code>tjsp_sentencas_health_all.csv</code></td>
</tr>
<tr>
  <td><code>collapse_tjsp_sentencas.py</code></td>
  <td><code>tjsp_sentencas_health_all.csv</code></td>
  <td>Classify + collapse into cells</td>
  <td>All</td>
  <td><code>tjsp_sentencas_health_collapsed.csv</code></td>
</tr>
</tbody>
</table>
<h3 id="6-4-output-files">6.4 Output Files</h3>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Columns</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>stf_stj_health_anonymized.csv</code></td>
  <td>tribunal, text, classe, number, date</td>
  <td>All health-related STF/STJ jurisprudence (mov entries)</td>
</tr>
<tr>
  <td><code>trf3_health_anonymized.csv</code></td>
  <td>tribunal, text, number, date, judge, vara, comarca</td>
  <td>1,000 sampled TRF3 (São Paulo federal) health cases</td>
</tr>
<tr>
  <td><code>tjsp_sentencas_health_anonymized.csv</code></td>
  <td>numero, classe, assunto, comarca, data, text</td>
  <td>200 sampled TJSP first-instance health decisions</td>
</tr>
<tr>
  <td><code>tjsp_acordaos_health_anonymized.csv</code></td>
  <td>Processo, Classe, Comarca, Orgao, Julgamento, Ementa, acordao</td>
  <td>1,000 sampled TJSP appellate health decisions</td>
</tr>
<tr>
  <td><code>tjsp_sentencas_health_all.csv</code></td>
  <td>numero, classe, assunto, magistrado, comarca, foro, vara, data, text, source_file</td>
  <td><strong>All</strong> TJSP health sentencas (1.29M rows, ~20-40GB)</td>
</tr>
<tr>
  <td><code>tjsp_sentencas_health_collapsed.csv</code></td>
  <td>assunto, assunto_category, classe, magistrado, vara, year, comarca, foro, outcome, tutela_antecipada, defendant_type, n_cases</td>
  <td>Cell-level counts (479K cells)</td>
</tr>
</tbody>
</table>
<h3 id="6-5-full-tjsp-sentenca-pipeline">6.5 Full TJSP Sentenca Pipeline</h3>
<p>The full extraction pipeline extracts all health-related sentencas (not a sample) and collapses them into analytical cells for the Judge IV analysis.</p>
<p><strong>Reference file:</strong> <code>references/tjsp_health_assuntos.csv</code> — 90 curated health assuntos across 9 categories: <code>health_plan</code>, <code>medication</code>, <code>treatment</code>, <code>hospital</code>, <code>medical_error</code>, <code>sus</code>, <code>disability</code>, <code>occupational_health</code>, <code>other_health</code>.</p>
<p><strong>Classifiers:</strong> <code>source/util/sentenca_classifiers.py</code> provides:</p>
<table>
<thead>
<tr>
  <th>Classifier</th>
  <th>Values</th>
  <th>Method</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>classify_outcome</code></td>
  <td>procedente, improcedente, parcialmente_procedente, extinto, acordo, other</td>
  <td>Regex on last 3,000 chars (dispositivo), last match wins</td>
</tr>
<tr>
  <td><code>classify_tutela</code></td>
  <td>granted, denied, no_mention</td>
  <td>Regex on full text, last match wins if both found</td>
</tr>
<tr>
  <td><code>classify_defendant</code></td>
  <td>municipality, state, federal, health_plan, hospital, public_unspecified, other</td>
  <td>Name extraction from header + pattern matching + vara fallback</td>
</tr>
</tbody>
</table>
<p><strong>Known limitations:</strong></p>
<ul>
<li><code>classe</code> is missing for ~14% of rows (concentrated in 2013-2016 files due to scraper format differences)</li>
<li>Tutela antecipada shows ~78% <code>no_mention</code> — many tutela decisions were made in separate interlocutory orders not captured in the sentença text</li>
<li><code>other</code> outcome (~8%) includes post-judgment procedural documents (cumprimento de sentença, precatório/RPV) that are not original case decisions</li>
</ul>
<p><strong>Running the pipeline:</strong></p>
<pre><code class="language-bash"># Step 1: Extract all health sentencas (~2-4 hours, checkpoint/resume)
python source/clean/extract_tjsp_sentencas_health_all.py

# Step 2: Classify and collapse (~3-4 hours)
python source/clean/collapse_tjsp_sentencas.py
</code></pre>
<h3 id="6-6-running-the-anonymized-sample-scripts">6.6 Running the Anonymized Sample Scripts</h3>
<pre><code class="language-bash">cd /projects/ec113/henrik/research/projects/saude

# Run individually
python source/clean/extract_stf_stj_health.py
python source/clean/extract_trf3_health.py
python source/clean/extract_tjsp_sentencas_health.py
python source/clean/extract_tjsp_acordaos_health.py
</code></pre>
<p><strong>Resuming after crash:</strong> Just rerun the same script. It reads the state file and skips already-processed rows.</p>
<p><strong>Monitoring progress:</strong></p>
<pre><code class="language-bash"># Check state files
cat data/.stf_stj_progress.json | python -m json.tool

# Count rows in output
python -c &quot;import pandas as pd; print(len(pd.read_csv('data/stf_stj/health_anonymized.csv')))&quot;
</code></pre>
<p><strong>Random seeds:</strong> All scripts use <code>RANDOM_SEED = 42</code> for reproducibility.</p>
<h3 id="6-7-tjsp-consulta-parsed-data">6.7 TJSP Consulta Parsed Data</h3>
<p>Structured CSV files parsed from TJSP consulta processual (case lookup) data. The raw markdown files scraped from TJSP's e-SAJ system have been anonymized and normalized into relational tables.</p>
<p><strong>Source:</strong> TJSP e-SAJ Consulta Processual — https://esaj.tjsp.jus.br/</p>
<p><strong>Scraper/Cleaner:</strong> <code>source/clean/parse_consulta.py</code></p>
<p><strong>Location:</strong> <code>data/tjsp/consulta/parsed/</code></p>
<h4 id="output-files">Output Files</h4>
<table>
<thead>
<tr>
  <th>File</th>
  <th>Rows</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>proc_grau1.csv</code></td>
  <td>176</td>
  <td>Process metadata (first instance)</td>
</tr>
<tr>
  <td><code>proc_grau2.csv</code></td>
  <td>70</td>
  <td>Process metadata (second instance/appeals)</td>
</tr>
<tr>
  <td><code>mov_grau1.csv</code></td>
  <td>14,497</td>
  <td>Case movements (first instance)</td>
</tr>
<tr>
  <td><code>mov_grau2.csv</code></td>
  <td>2,538</td>
  <td>Case movements (second instance)</td>
</tr>
<tr>
  <td><code>parte_grau1.csv</code></td>
  <td>805</td>
  <td>Parties (first instance)</td>
</tr>
<tr>
  <td><code>parte_grau2.csv</code></td>
  <td>398</td>
  <td>Parties (second instance)</td>
</tr>
<tr>
  <td><code>adv_grau1.csv</code></td>
  <td>447</td>
  <td>Lawyers (first instance)</td>
</tr>
<tr>
  <td><code>adv_grau2.csv</code></td>
  <td>236</td>
  <td>Lawyers (second instance)</td>
</tr>
</tbody>
</table>
<h4 id="schema">Schema</h4>
<p><strong><code>proc_grau1.csv</code></strong> — One row per first-instance case. Primary key: <code>num_npu</code>.</p>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>num_npu</code></td>
  <td>string</td>
  <td>CNJ unified case number (20 digits)</td>
</tr>
<tr>
  <td><code>status</code></td>
  <td>string</td>
  <td>Current case status (e.g., &quot;Arquivado&quot;, &quot;Em grau de recurso&quot;)</td>
</tr>
<tr>
  <td><code>classe</code></td>
  <td>string</td>
  <td>Procedural class (e.g., &quot;Procedimento Comum Cível&quot;)</td>
</tr>
<tr>
  <td><code>assunto</code></td>
  <td>string</td>
  <td>Legal subject matter</td>
</tr>
<tr>
  <td><code>foro</code></td>
  <td>string</td>
  <td>Forum (city/district)</td>
</tr>
<tr>
  <td><code>vara</code></td>
  <td>string</td>
  <td>Court division</td>
</tr>
<tr>
  <td><code>juiz</code></td>
  <td>string</td>
  <td>Judge name (anonymized as [JUDGE])</td>
</tr>
<tr>
  <td><code>data_distribuicao</code></td>
  <td>datetime</td>
  <td>Filing date</td>
</tr>
<tr>
  <td><code>area</code></td>
  <td>string</td>
  <td>Legal area (Criminal, Cível)</td>
</tr>
</tbody>
</table>
<p><strong><code>proc_grau2.csv</code></strong> — One row per appellate case. Primary key: <code>num_npu</code>.</p>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>num_npu</code></td>
  <td>string</td>
  <td>CNJ unified case number</td>
</tr>
<tr>
  <td><code>status</code></td>
  <td>string</td>
  <td>Current appeal status</td>
</tr>
<tr>
  <td><code>classe</code></td>
  <td>string</td>
  <td>Appellate class (e.g., &quot;Apelação Criminal&quot;)</td>
</tr>
<tr>
  <td><code>assunto</code></td>
  <td>string</td>
  <td>Legal subject matter</td>
</tr>
<tr>
  <td><code>secao</code></td>
  <td>string</td>
  <td>Court section</td>
</tr>
<tr>
  <td><code>orgao_julgador</code></td>
  <td>string</td>
  <td>Judging body (câmara)</td>
</tr>
<tr>
  <td><code>relator</code></td>
  <td>string</td>
  <td>Reporting judge (anonymized)</td>
</tr>
<tr>
  <td><code>origem</code></td>
  <td>string</td>
  <td>Origin court/vara</td>
</tr>
</tbody>
</table>
<p><strong><code>mov_grau*.csv</code></strong> — Chronological movement log. Foreign key: <code>num_npu</code>.</p>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>num_npu</code></td>
  <td>string</td>
  <td>CNJ unified case number</td>
</tr>
<tr>
  <td><code>date</code></td>
  <td>datetime</td>
  <td>Movement date</td>
</tr>
<tr>
  <td><code>text</code></td>
  <td>string</td>
  <td>Movement description (e.g., &quot;Sentença Proferida&quot;)</td>
</tr>
</tbody>
</table>
<p><strong><code>parte_grau*.csv</code></strong> — Party records. Foreign key: <code>num_npu</code>.</p>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>num_npu</code></td>
  <td>string</td>
  <td>CNJ unified case number</td>
</tr>
<tr>
  <td><code>key</code></td>
  <td>string</td>
  <td>Party role (Autor, Réu, Exeqte, etc.)</td>
</tr>
<tr>
  <td><code>parte</code></td>
  <td>string</td>
  <td>Party name (anonymized as [PERSON] or [ORGANIZATION])</td>
</tr>
</tbody>
</table>
<p><strong><code>adv_grau*.csv</code></strong> — Lawyer records. Foreign key: <code>num_npu</code>.</p>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>num_npu</code></td>
  <td>string</td>
  <td>CNJ unified case number</td>
</tr>
<tr>
  <td><code>key</code></td>
  <td>string</td>
  <td>Lawyer type (Advogado, Advogada, Defensor Público)</td>
</tr>
<tr>
  <td><code>advogado</code></td>
  <td>string</td>
  <td>Lawyer name (anonymized as [PERSON])</td>
</tr>
</tbody>
</table>
<h4 id="usage-example">Usage Example</h4>
<pre><code class="language-python">import pandas as pd

# Load first-instance data
proc = pd.read_csv(&quot;data/tjsp/consulta/parsed/proc_grau1.csv&quot;, index_col=&quot;num_npu&quot;)
mov = pd.read_csv(&quot;data/tjsp/consulta/parsed/mov_grau1.csv&quot;)
parte = pd.read_csv(&quot;data/tjsp/consulta/parsed/parte_grau1.csv&quot;)

# Count movements per case
mov_counts = mov.groupby(&quot;num_npu&quot;).size()

# Get all parties for a case
case_parties = parte[parte[&quot;num_npu&quot;] == &quot;0001265-21.2023.8.26.0361&quot;]
</code></pre>
<hr />
<h2 id="7-data-quality-notes">7. Data Quality Notes</h2>
<h3 id="completeness">Completeness</h3>
<ul>
<li><strong>Planalto</strong>: Complete (57,255 laws downloaded; 2,049 errors are nonexistent compilado URLs)</li>
<li><strong>Saúde Legis</strong>: Complete (17,946 documents downloaded, zero errors)</li>
<li><strong>Curated PDFs</strong>: Selected key documents, not exhaustive</li>
</ul>
<h3 id="limitations">Limitations</h3>
<ul>
<li>PDFs require OCR/extraction for full-text search</li>
<li>Some documents may be outdated (check publication dates)</li>
<li>e-NatJus technical opinions require specific queries (not bulk downloadable)</li>
</ul>
<h3 id="updates">Updates</h3>
<ul>
<li>Scrapers can be re-run to fetch new legislation</li>
<li>Manual updates needed for curated PDFs</li>
</ul>
<hr />
<h2 id="8-usage-for-research">8. Usage for Research</h2>
<h3 id="finding-health-laws">Finding Health Laws</h3>
<pre><code class="language-bash"># Search Planalto for SUS-related laws (run from pipelines/bdata repo)
python source/scrape/planalto_scraper.py search &quot;Sistema Único de Saúde&quot;

# Search Ministry of Health portarias
python source/scrape/saudelegis_scraper.py search &quot;medicamentos excepcionais&quot;
</code></pre>
<h3 id="key-health-legislation-references">Key Health Legislation References</h3>
<ul>
<li><strong>Lei 8.080/1990</strong>: SUS Organic Law</li>
<li><strong>Lei 8.142/1990</strong>: SUS social participation</li>
<li><strong>Lei 9.656/1998</strong>: Health plans regulation</li>
<li><strong>Lei 12.401/2011</strong>: SUS therapeutic assistance</li>
<li><strong>Decreto 7.508/2011</strong>: SUS regulation</li>
</ul>
<hr />
<h2 id="9-curated-news-stories">9. Curated News Stories</h2>
<h3 id="source">Source</h3>
<p>Systematic web searches for journalistic coverage of health judicialization in Brazil, conducted using Claude Code between late 2025 and early 2026. Searches targeted specific thematic angles relevant to the paper's empirical arguments (budget pressure, equity, supply-side mechanisms, institutional responses, etc.). Stories were selected for inclusion based on factual content, sourcing quality, and relevance to the paper.</p>
<h3 id="location">Location</h3>
<pre><code>references/news/
├── stories.csv              # Master catalog (133 stories)
├── paywalled_leads.md       # Stories identified but not fully accessible (15 leads)
├── globo.txt                # Full text: O Globo article (supplementary health)
├── piaui1.txt               # Full text: Piauí &quot;O Complexo: Parte II&quot;
├── piaui2.txt               # Full text: Piauí &quot;Farra ilimitada&quot;
└── texts/                   # Archived full-text articles (107 files)
    ├── 001.txt              # Row 1 of stories.csv
    ├── 002.txt              # Row 2 of stories.csv
    └── ...                  # Zero-padded row numbers (1-indexed)
</code></pre>
<p>The <code>texts/</code> directory contains full-text plain-text versions of news articles, fetched from their URLs using <code>source/util/fetch_news.py</code>. Files are named by zero-padded row number from <code>stories.csv</code>. The <code>piaui1.txt</code>, <code>piaui2.txt</code>, and <code>globo.txt</code> files in the parent directory are the original manually-saved copies; their content is also available in the numbered system (116.txt, 117.txt, 133.txt).</p>
<h3 id="fetch-script">Fetch Script</h3>
<p><strong>Script:</strong> <code>source/util/fetch_news.py</code></p>
<p>Fetches each URL from <code>stories.csv</code> using <code>requests</code> + <code>html2text</code> and saves plain-text output to <code>references/news/texts/NNN.txt</code>. Skips paywalled stories and existing files (safe to re-run). Copies existing manual <code>.txt</code> files into the numbered system.</p>
<pre><code class="language-bash"># Fetch all articles (skips existing)
python3 source/util/fetch_news.py

# Re-fetch a specific row
python3 source/util/fetch_news.py --row 42

# Overwrite existing files
python3 source/util/fetch_news.py --overwrite
</code></pre>
<h3 id="schema-stories-csv">Schema (<code>stories.csv</code>)</h3>
<table>
<thead>
<tr>
  <th>Column</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>date</code></td>
  <td>string</td>
  <td>Publication date (YYYY-MM-DD or YYYY-MM or YYYY)</td>
</tr>
<tr>
  <td><code>outlet</code></td>
  <td>string</td>
  <td>Publisher name</td>
</tr>
<tr>
  <td><code>title</code></td>
  <td>string</td>
  <td>Article headline (ASCII-transliterated Portuguese)</td>
</tr>
<tr>
  <td><code>url</code></td>
  <td>string</td>
  <td>Original URL</td>
</tr>
<tr>
  <td><code>theme</code></td>
  <td>string</td>
  <td>Thematic classification (see taxonomy below)</td>
</tr>
<tr>
  <td><code>summary</code></td>
  <td>string</td>
  <td>Key facts and figures extracted from the article</td>
</tr>
<tr>
  <td><code>paywalled</code></td>
  <td>string</td>
  <td><code>yes</code> or <code>no</code> — whether full text requires subscription</td>
</tr>
</tbody>
</table>
<h3 id="theme-taxonomy">Theme Taxonomy</h3>
<table>
<thead>
<tr>
  <th>Theme</th>
  <th>Count</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>institutional_response</code></td>
  <td>21</td>
  <td>Government, court, and regulatory system responses (NAT-Jus, STF, CNJ, CONITEC reforms)</td>
</tr>
<tr>
  <td><code>budget_pressure</code></td>
  <td>20</td>
  <td>Fiscal impact on federal, state, and municipal health budgets</td>
</tr>
<tr>
  <td><code>pharma_industry</code></td>
  <td>16</td>
  <td>Industry lobbying, pricing strategies, patent manipulation, CONITEC capture</td>
</tr>
<tr>
  <td><code>individual_cases</code></td>
  <td>16</td>
  <td>Named patients, specific drugs, life-or-death litigation narratives</td>
</tr>
<tr>
  <td><code>equity</code></td>
  <td>9</td>
  <td>Distributional concerns: who litigates, who benefits, racial/income gaps</td>
</tr>
<tr>
  <td><code>admin_failure</code></td>
  <td>8</td>
  <td>SUS supply chain breakdowns, stockouts, delayed incorporations</td>
</tr>
<tr>
  <td><code>procurement_cost</code></td>
  <td>8</td>
  <td>Emergency procurement markups, fraud, expired medications</td>
</tr>
<tr>
  <td><code>municipal_adaptation</code></td>
  <td>8</td>
  <td>How small and medium municipalities cope with judicial mandates</td>
</tr>
<tr>
  <td><code>crowd_out</code></td>
  <td>6</td>
  <td>Evidence of judicial spending displacing other health programs</td>
</tr>
<tr>
  <td><code>political_economy</code></td>
  <td>5</td>
  <td>Political actors, legislative responses, lobbying dynamics</td>
</tr>
<tr>
  <td><code>enforcement</code></td>
  <td>5</td>
  <td>Contempt proceedings, asset seizures, compliance mechanisms</td>
</tr>
<tr>
  <td><code>defensoria_access</code></td>
  <td>5</td>
  <td>Public Defender's role in health litigation access</td>
</tr>
<tr>
  <td><code>judge_perspective</code></td>
  <td>3</td>
  <td>Judicial reasoning, NAT-Jus resistance, decision-making under pressure</td>
</tr>
<tr>
  <td><code>conitec_politics</code></td>
  <td>3</td>
  <td>CONITEC internal dynamics, industry submissions, political overrides</td>
</tr>
</tbody>
</table>
<h3 id="collection-methodology">Collection Methodology</h3>
<p>Stories were collected in multiple rounds of thematic web searches. Each round targeted a specific gap identified by comparing existing coverage against the paper's section needs. Sources span major Brazilian outlets (Folha de S.Paulo, Estadão, O Globo, Valor Econômico, Piauí), government portals (Câmara, Agência Brasil, TCU), specialized health/legal media (Conjur, JOTA, Medicina S/A), and regional outlets. All stories are in Portuguese.</p>
<p>The <code>paywalled_leads.md</code> file catalogs 15 high-value stories that were identified through searches but could not be fully accessed due to paywalls. Where available, mirror URLs (TRF2 Comitê de Saúde, Panorama Farmacêutico, Biored Brasil) are noted.</p>
<h3 id="usage">Usage</h3>
<p>Stories provide factual grounding for institutional claims in the paper. Each story's <code>summary</code> field extracts the key quantitative facts and qualitative details. The <code>theme</code> field enables filtering by paper section. Stories are cited in the paper via footnotes or used to triangulate claims from academic sources.</p>
<hr />
<h2 id="10-file-organization">10. File Organization</h2>
<pre><code>saude/
├── build/                    # Generated outputs (GITIGNORED)
│   ├── clean/                # Cleaned/normalized CSVs
│   │   ├── datajud/              # DataJud normalized tables (5 CSVs)
│   │   └── health_legislation.csv  # Merged legislation corpus (21K rows)
│   ├── summary/              # Per-dataset JSON summaries
│   ├── site/                 # Static data portal (HTML)
│   └── notebooklm/           # NotebookLM export files
├── data/                     # Large-scale data (GITIGNORED)
│   ├── stf_stj_health_anonymized.csv     # Anonymized STF/STJ health cases (3,500)
│   ├── trf3_health_anonymized.csv        # Anonymized TRF3 health cases (1,000)
│   ├── tjsp_sentencas_health_anonymized.csv  # Anonymized TJSP sentencas (200)
│   ├── tjsp_acordaos_health_anonymized.csv   # Anonymized TJSP acordaos (1,000)
│   ├── tjsp_sentencas_health_all.csv     # Full TJSP sentencas (1.29M rows)
│   ├── tjsp_sentencas_health_collapsed.csv  # Collapsed cells (478K rows)
│   ├── statistics/               # Frequency tables (assunto, classe, cross-tab)
│   ├── planalto/                 # Planalto legislation DBs (full + health extract)
│   └── saudelegis/               # SaudeLegis DB
├── references/               # Curated reference documents (TRACKED)
│   ├── mapeamento_medicamentos_judicializados.csv  # Drug mapping table
│   ├── tpu_assuntos_saude.csv    # Subject classification codes
│   ├── tjsp_health_assuntos.csv  # 90 curated health assuntos
│   ├── sinteses/                 # Analytical synthesis memos
│   ├── cnj_enunciados/           # Health law forum enunciados
│   ├── cnj_normas/               # CNJ research and studies
│   ├── cnj_resolucoes/           # CNJ institutional resolutions
│   ├── conitec/                  # CONITEC recommendations
│   ├── ipea/                     # IPEA economic research
│   ├── fiocruz/                  # Fiocruz health research
│   ├── tcu/                      # TCU audit reports
│   ├── rename/                   # Essential medicines list
│   ├── legislacao_processual/    # Procedural law references
│   ├── pcdts/                    # Clinical protocols
│   ├── cit_resolucoes/           # CIT resolutions
│   ├── natjus/                   # e-NatJus documentation
│   ├── stf_teses/                # STF binding precedents
│   ├── stj_teses/                # STJ jurisprudence
│   ├── sus_financiamento/        # SUS financing rules
│   └── news/                     # Curated news stories (133 in stories.csv + texts/)
└── source/                   # All code
    ├── scrape/               # Web scrapers
    ├── clean/                # Data processing scripts
    │   ├── extract_stf_stj_health.py
    │   ├── extract_trf3_health.py
    │   ├── extract_tjsp_sentencas_health.py
    │   ├── extract_tjsp_acordaos_health.py
    │   ├── extract_tjsp_sentencas_health_all.py  # Full extraction (no sampling)
    │   ├── collapse_tjsp_sentencas.py            # Classify + collapse
    │   ├── extract_planalto_health_db.py          # Health DB extraction from full Planalto
    │   ├── extract_health_laws.py                # Health legislation CSV export
    │   ├── clean_datajud.py                      # DataJud API normalization
    │   └── clean_legislation.py                  # Legislation corpus merge
    ├── summary/              # Dataset registry and summarization
    ├── site/                 # Static data portal generator
    └── util/                 # Shared utilities
        ├── anonymize.py          # GLiNER-based NER anonymization
        ├── health_keywords.py    # Health regex pattern
        └── sentenca_classifiers.py  # Outcome/tutela/defendant classifiers
</code></pre>
<hr />
<h2 id="appendix-portaria-42-1999-complete-functional-classification">Appendix: Portaria 42/1999 — Complete Functional Classification</h2>
<p>Portaria MOG 42/1999 defines the functional classification of all government expenditures in Brazil. Mandatory for all municipalities since LOA 2002. Health subfunções (301–306) have <strong>not been modified since 1999</strong>.</p>
<p>Official sources:</p>
<ul>
<li>SP Fazenda (consolidated PDF): https://legislacaofinanceira.fazenda.sp.gov.br/Federal/PORTARIA%20SOF-SETO-ME%20No%2042-atualizada.pdf</li>
<li>Gov.br/Economia: https://www.gov.br/economia/pt-br/assuntos/planejamento-e-orcamento/orcamento/legislacao-sobre-orcamento</li>
</ul>
<p><strong>Matricialidade:</strong> Subfunções are NOT rigidly tied to their &quot;typical&quot; função — they can be combined with any função. This explains entries like 10.122 (Saúde + Administração Geral) in TCE-SP data.</p>
<h3 id="complete-list-of-fun-es-and-subfun-es">Complete list of funções and subfunções</h3>
<ul>
<li><strong>01 LEGISLATIVA</strong>: 031 Ação Legislativa, 032 Controle Externo</li>
<li><strong>02 JUDICIÁRIA</strong>: 061 Ação Judiciária, 062 Defesa do Interesse Público no Processo Judiciário</li>
<li><strong>03 ESSENCIAL À JUSTIÇA</strong>: 091 Defesa da Ordem Jurídica, 092 Representação Judicial e Extrajudicial</li>
<li><strong>04 ADMINISTRAÇÃO</strong>: 121 Planejamento e Orçamento, 122 Administração Geral, 123 Administração Financeira, 124 Controle Interno, 125 Normatização e Fiscalização, 126 Tecnologia da Informação, 127 Ordenamento Territorial, 128 Formação de Recursos Humanos, 129 Administração de Receitas, 130 Administração de Concessões, 131 Comunicação Social</li>
<li><strong>05 DEFESA NACIONAL</strong>: 151 Defesa Aérea, 152 Defesa Naval, 153 Defesa Terrestre</li>
<li><strong>06 SEGURANÇA PÚBLICA</strong>: 181 Policiamento, 182 Defesa Civil, 183 Informação e Inteligência</li>
<li><strong>07 RELAÇÕES EXTERIORES</strong>: 211 Relações Diplomáticas, 212 Cooperação Internacional</li>
<li><strong>08 ASSISTÊNCIA SOCIAL</strong>: 241 Assistência ao Idoso, 242 Assistência ao Portador de Deficiência, 243 Assistência à Criança e ao Adolescente, 244 Assistência Comunitária, 245 Serviços Socioassistenciais <em>(added 2024)</em>, 246 Segurança de Renda <em>(added 2024)</em></li>
<li><strong>09 PREVIDÊNCIA SOCIAL</strong>: 271 Previdência Básica, 272 Previdência do Regime Estatutário, 273 Previdência Complementar, 274 Previdência Especial</li>
<li><strong>10 SAÚDE</strong>: <strong>301 Atenção Básica</strong>, <strong>302 Assistência Hospitalar e Ambulatorial</strong>, <strong>303 Suporte Profilático e Terapêutico</strong>, <strong>304 Vigilância Sanitária</strong>, <strong>305 Vigilância Epidemiológica</strong>, 306 Alimentação e Nutrição</li>
<li><strong>11 TRABALHO</strong>: 331 Proteção e Benefícios ao Trabalhador, 332 Relações de Trabalho, 333 Empregabilidade, 334 Fomento ao Trabalho</li>
<li><strong>12 EDUCAÇÃO</strong>: 361 Ensino Fundamental, 362 Ensino Médio, 363 Ensino Profissional, 364 Ensino Superior, 365 Educação Infantil, 366 Educação de Jovens e Adultos, 367 Educação Especial, 368 Educação Básica</li>
<li><strong>13 CULTURA</strong>: 391 Patrimônio Histórico, Artístico e Arqueológico, 392 Difusão Cultural</li>
<li><strong>14 DIREITOS DA CIDADANIA</strong>: 421 Custódia e Reintegração Social, 422 Direitos Individuais, Coletivos e Difusos, 423 Assistência aos Povos Indígenas</li>
<li><strong>15 URBANISMO</strong>: 451 Infra-Estrutura Urbana, 452 Serviços Urbanos, 453 Transportes Coletivos Urbanos</li>
<li><strong>16 HABITAÇÃO</strong>: 481 Habitação Rural, 482 Habitação Urbana</li>
<li><strong>17 SANEAMENTO</strong>: 511 Saneamento Básico Rural, 512 Saneamento Básico Urbano</li>
<li><strong>18 GESTÃO AMBIENTAL</strong>: 541 Preservação e Conservação Ambiental, 542 Controle Ambiental, 543 Recuperação de Áreas Degradadas, 544 Recursos Hídricos, 545 Meteorologia</li>
<li><strong>19 CIÊNCIA E TECNOLOGIA</strong>: 571 Desenvolvimento Científico, 572 Desenvolvimento Tecnológico e Engenharia, 573 Difusão do Conhecimento Científico e Tecnológico</li>
<li><strong>20 AGRICULTURA</strong>: 601 Promoção da Produção Vegetal, 602 Promoção da Produção Animal, 603 Defesa Sanitária Vegetal, 604 Defesa Sanitária Animal, 605 Abastecimento, 606 Extensão Rural, 607 Irrigação</li>
<li><strong>21 ORGANIZAÇÃO AGRÁRIA</strong>: 631 Reforma Agrária, 632 Colonização</li>
<li><strong>22 INDÚSTRIA</strong>: 661 Promoção Industrial, 662 Produção Industrial, 663 Mineração, 664 Propriedade Industrial, 665 Normalização e Qualidade</li>
<li><strong>23 COMÉRCIO E SERVIÇOS</strong>: 691 Promoção Comercial, 692 Comercialização, 693 Comércio Exterior, 694 Serviços Financeiros, 695 Turismo</li>
<li><strong>24 COMUNICAÇÕES</strong>: 721 Comunicações Postais, 722 Telecomunicações</li>
<li><strong>25 ENERGIA</strong>: 751 Conservação de Energia, 752 Energia Elétrica, 753 Petróleo, 754 Álcool</li>
<li><strong>26 TRANSPORTE</strong>: 781 Transporte Aéreo, 782 Transporte Rodoviário, 783 Transporte Ferroviário, 784 Transporte Hidroviário, 785 Transportes Especiais</li>
<li><strong>27 DESPORTO E LAZER</strong>: 811 Desporto de Rendimento, 812 Desporto Comunitário, 813 Lazer</li>
<li><strong>28 ENCARGOS ESPECIAIS</strong>: 841 Refinanciamento da Dívida Interna, 842 Refinanciamento da Dívida Externa, 843 Serviço da Dívida Interna, 844 Serviço da Dívida Externa, 845 Transferências, 846 Outros Encargos Especiais</li>
</ul>
<p><strong>Total: 28 funções, ~111 subfunções.</strong></p>
<h3 id="amendments-history">Amendments history</h3>
<table>
<thead>
<tr>
  <th>Amendment</th>
  <th>Date</th>
  <th>Change</th>
</tr>
</thead>
<tbody>
<tr>
  <td>Portaria SOF/ME no. 2.520</td>
  <td>21/03/2022</td>
  <td>Consolidated and republished</td>
</tr>
<tr>
  <td>Portaria SOF/MPO no. 221</td>
  <td>07/08/2023</td>
  <td>Altered the Annex</td>
</tr>
<tr>
  <td>Portaria SOF/MPO no. 169</td>
  <td>12/06/2024</td>
  <td>Added subfunções 245 and 246 under Função 08</td>
</tr>
</tbody>
</table>
<h3 id="data-quality-notes-for-municipal-health-spending">Data quality notes for municipal health spending</h3>
<ol>
<li><strong>Matricialidade causes noise</strong>: Municipalities commonly classify admin costs of the health secretariat under 10.122 (Saúde + Administração Geral) rather than 301–306.</li>
<li><strong>SIOPS inconsistencies</strong>: Research shows significant inconsistency in how municipalities assign expenses to subfunção 301 (Atenção Básica) in SIOPS reporting. TCE-SP data may be more reliable since it comes from actual accounting records (Audesp).</li>
<li><strong>Cross-cutting subfunções in TCE-SP</strong>: Subfunção &quot;ADMINISTRAÇÃO GERAL&quot; appearing under função SAÚDE represents administrative overhead of the health secretariat (matricialidade rule).</li>
</ol>

</div>
</main>

<footer>
  Generated by <code>bash build.sh site</code>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const body = document.querySelector('.md-body');
  if (!body) return;

  function foldHeadings(container, tag) {
    const level = tag.replace('H', '');
    const headings = Array.from(container.querySelectorAll(':scope > ' + tag.toLowerCase()));
    headings.forEach(h => {
      const details = document.createElement('details');
      details.className = 'level-' + level;
      if (h.id) details.id = h.id;
      const summary = document.createElement('summary');
      summary.innerHTML = h.innerHTML;
      details.appendChild(summary);
      let sibling = h.nextElementSibling;
      const collected = [];
      while (sibling && sibling.tagName !== tag) {
        collected.push(sibling);
        sibling = sibling.nextElementSibling;
      }
      collected.forEach(el => details.appendChild(el));
      h.replaceWith(details);
    });
    return headings.length;
  }

  // Fold h2 sections, then h3 sections within each h2
  const count = foldHeadings(body, 'H2');
  if (count === 0) {
    document.querySelector('.doc-controls').style.display = 'none';
    return;
  }
  body.querySelectorAll('details.level-2').forEach(d => foldHeadings(d, 'H3'));

  // Toggle button
  const btn = document.getElementById('toggle-sections');
  if (!btn) return;
  btn.addEventListener('click', () => {
    const allDetails = body.querySelectorAll('details');
    const expanding = btn.textContent === 'Expand all';
    allDetails.forEach(d => d.open = expanding);
    btn.textContent = expanding ? 'Collapse all' : 'Expand all';
  });

  // Auto-open details when navigating to an anchor
  function openAnchorTarget() {
    if (!location.hash) return;
    const target = document.querySelector(location.hash);
    if (!target) return;
    let el = target;
    while (el) {
      if (el.tagName === 'DETAILS') el.open = true;
      el = el.parentElement;
    }
    target.scrollIntoView();
  }
  openAnchorTarget();
  window.addEventListener('hashchange', openAnchorTarget);
});
</script>

</body>
</html>
